
 *** Running tests...
/Users/bogdan/.rvm/rubies/ruby-2.3.4/bin/ruby -I/Users/bogdan/.rvm/gems/ruby-2.3.4/gems/rspec-core-3.7.1/lib:/Users/bogdan/.rvm/gems/ruby-2.3.4/gems/rspec-support-3.7.1/lib /Users/bogdan/.rvm/gems/ruby-2.3.4/gems/rspec-core-3.7.1/exe/rspec --pattern spec/\*\*\{,/\*/\*\*\}/\*_spec.rb
[32m[Coveralls] Set up the SimpleCov formatter.[0m
[32m[Coveralls] Using SimpleCov's default settings.[0m
Run options: include {:focus=>true}

All examples were filtered out; ignoring {:focus=>true}

Randomized with seed 51980
......W, [2018-05-21T14:57:50.213322 #65999]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#success? defined in Hashie::Mash. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
.W, [2018-05-21T14:57:50.214805 #65999]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#success? defined in Hashie::Mash. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:57:50.214865 #65999]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#success? defined in Hashie::Mash. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
.............

Finished in 2.77 seconds (files took 0.93185 seconds to load)
20 examples, 0 failures

Randomized with seed 51980

[33m[Coveralls] Outside the CI environment, not sending data.[0m
Feature: Category resource
  Create/Update/Delete category

  @vcr
  Scenario: Create category                                    # features/category.feature:5
    Given Zuppler configured with "zuppler" and "abcd"         # features/step_definitions/initialization_steps.rb:18
    And I have a restaurant "1","demorestaurant"               # features/step_definitions/restaurant_steps.rb:1
    And I have a menu "21761"                                  # features/step_definitions/menu_steps.rb:22

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/menus/21761/categories.json
 ***** Zuppler Request: {:body=>{:category=>{"name"=>"pizzas", "description"=>"desc", "priority"=>"1", "priced_by_size"=>"true", "min_qty"=>"2"}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"category":{"id":63684,"name":"pizzas","description":"desc * 2 items minimum. * 2 items minimum.","priority":1,"active":true,"priced_by_size":false}}
    When I create category with "pizzas","desc","1","2","true" # features/step_definitions/category_steps.rb:1
    Then I should have category created                        # features/step_definitions/category_steps.rb:19

  @vcr
  Scenario: Update category                                # features/category.feature:13
    Given Zuppler configured with "zuppler" and "abcd"     # features/step_definitions/initialization_steps.rb:18
    And I have a menu "21761"                              # features/step_definitions/menu_steps.rb:22
    And I have a category "43069"                          # features/step_definitions/category_steps.rb:23

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/categories/43069.json
 ***** Zuppler Request: {:body=>{:category=>{"name"=>"ccc", "description"=>"ddd", "priority"=>"1", "active"=>"true", "min_qty"=>"1", :categorizable_id=>"21761"}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"category":{"id":43069,"name":"ccc","description":"ddd * 1 items minimum.","priority":1,"active":true,"priced_by_size":false}}
    When I update category with "ccc","ddd","true","1","1" # features/step_definitions/category_steps.rb:7
    Then I should get success response                     # features/step_definitions/base_steps.rb:1

  @vcr
  Scenario: Delete category                            # features/category.feature:21
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18
    And I have a category "43069"                      # features/step_definitions/category_steps.rb:23

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/categories/43069.json
 ***** Zuppler Request: {:body=>{:category=>{"active"=>false}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"category":{"id":43069,"name":"ccc","description":"ddd * 1 items minimum. * 1 items minimum.","priority":1,"active":true,"priced_by_size":false}}
    When I delete category                             # features/step_definitions/category_steps.rb:15
    Then I should get success response                 # features/step_definitions/base_steps.rb:1

Feature: Choice resource
  Create/Update/Delete resource

  @vcr
  Scenario: Create category level choice                                    # features/choice.feature:5
    Given Zuppler configured with "zuppler" and "abcd"                      # features/step_definitions/initialization_steps.rb:18
    And I have a restaurant "1","demorestaurant"                            # features/step_definitions/restaurant_steps.rb:1
    And I have a menu "235"                                                 # features/step_definitions/menu_steps.rb:22
    And I have a category "1712"                                            # features/step_definitions/category_steps.rb:23

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/categories/1712/choices.json
 ***** Zuppler Request: {:body=>{:choice=>{"name"=>"toppings cat", "description"=>"desc", "multiple"=>"true", "min_qty"=>0, "max_qty"=>"5", "priority"=>"2", "order_by_priority"=>"true", "multiple_ingredients"=>"true", "size"=>true}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"choice":{"id":213611,"name":"toppings cat","multiple":true,"min_qty":0,"max_qty":5,"priority":2,"order_by_priority":true,"active":true,"description":"desc"}}
    When I create choice "toppings cat","desc","true","5","2","true","true" # features/step_definitions/choice_steps.rb:1
    Then I should have choice created                                       # features/step_definitions/choice_steps.rb:23

  @vcr
  Scenario: Create item level choice                                          # features/choice.feature:14
    Given Zuppler configured with "zuppler" and "abcd"                        # features/step_definitions/initialization_steps.rb:18
    And I have a restaurant "1","demorestaurant"                              # features/step_definitions/restaurant_steps.rb:1
    And I have a menu "235"                                                   # features/step_definitions/menu_steps.rb:22
    And I have a category "1712"                                              # features/step_definitions/category_steps.rb:23
    And I have an item "1234"                                                 # features/step_definitions/item_steps.rb:12

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/categories/1712/choices.json
 ***** Zuppler Request: {:body=>{:choice=>{"name"=>"toppings item", "description"=>"desc", "multiple"=>"true", "min_qty"=>0, "max_qty"=>"5", "priority"=>"2", "order_by_priority"=>"false", "multiple_ingredients"=>"true", "size"=>true}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"choice":{"id":213612,"name":"toppings item","multiple":true,"min_qty":0,"max_qty":5,"priority":2,"order_by_priority":false,"active":true,"description":"desc"}}
    When I create choice "toppings item","desc","true","5","2","false","true" # features/step_definitions/choice_steps.rb:1
    Then I should have choice created                                         # features/step_definitions/choice_steps.rb:23

  @vcr
  Scenario: Update choice                                       # features/choice.feature:24
    Given Zuppler configured with "zuppler" and "abcd"          # features/step_definitions/initialization_steps.rb:18
    And I have a choice "69212"                                 # features/step_definitions/choice_steps.rb:27

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/choices/69212.json
 ***** Zuppler Request: {:body=>{:choice=>{"modifier_id"=>1, "name"=>"ddd", "active"=>"true", "multiple"=>"true", "min_qty"=>"3", "max_qty"=>"5", "priority"=>"3", "multiple_ingredients"=>"true", "size"=>true}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"choice":{"id":69212,"name":"CHOOSE YOUR PROTEIN","multiple":false,"min_qty":1,"max_qty":1,"priority":3,"order_by_priority":null,"active":true,"description":null}}
    When I update choice "ddd","3","true","true","3","5","true" # features/step_definitions/choice_steps.rb:9
    Then I should get success response                          # features/step_definitions/base_steps.rb:1

  @vcr
  Scenario: Delete choice                              # features/choice.feature:31
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18
    And I have a choice "69212"                        # features/step_definitions/choice_steps.rb:27

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/choices/69212.json
 ***** Zuppler Request: {:body=>{:choice=>{"modifier_id"=>nil, "name"=>nil, "description"=>nil, "active"=>false, "multiple"=>nil, "min_qty"=>nil, "max_qty"=>nil, "priority"=>nil, "order_by_priority"=>nil, "multiple_ingredients"=>nil, "size"=>nil}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"choice":{"id":69212,"name":"","multiple":null,"min_qty":null,"max_qty":null,"priority":null,"order_by_priority":null,"active":false,"description":""}}
    When I delete choice                               # features/step_definitions/choice_steps.rb:18
    Then I should get success response                 # features/step_definitions/base_steps.rb:1

Feature: Discount resource
  Discount resource

  @vcr
  Scenario: Create discount                            # features/discount.feature:5
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18
    And I have a restaurant "1","demorestaurant"       # features/step_definitions/restaurant_steps.rb:1

 ***** Zuppler Url: http://restaurants-api.biznettechnologies.com/v4/restaurants/demorestaurant/discounts.json
 ***** Zuppler Request: {:body=>{:discount=>{"name"=>"savings", "amount"=>"15", "min_order_amount"=>"99", "promo_code"=>"abcd"}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"status":{"code":201,"message":"Created"}}
    When I create discount "savings","15","99","abcd"  # features/step_definitions/discount_steps.rb:1
    Then I should have discount created                # features/step_definitions/discount_steps.rb:16

  @vcr
  Scenario: Update discount                            # features/discount.feature:12
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18
    And I have a discount "904"                        # features/step_definitions/discount_steps.rb:20

 ***** Zuppler Url: http://restaurants-api.biznettechnologies.com/v4/restaurants/demorestaurant/discounts/904.json
 ***** Zuppler Request: {:body=>{:discount=>{"order_uuid"=>"4234234234234", "name"=>"updated", "amount"=>"25", "min_order_amount"=>"50"}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"discount":{"id":904,"title":"20% off on orders_more than $50","amount":"25.0","percent":"20.0","start_date":"11/03/2011","end_date":null}}
    When I update discount "updated","25","50"         # features/step_definitions/discount_steps.rb:6
    Then I should get success response                 # features/step_definitions/base_steps.rb:1

Feature: Ingredient resource
  Ingredient resource

  @vcr
  Scenario: Create ingredient                                   # features/ingredient.feature:5
    Given Zuppler configured with "zuppler" and "abcd"          # features/step_definitions/initialization_steps.rb:18
    And I have a restaurant "1","demorestaurant"                # features/step_definitions/restaurant_steps.rb:1
    And I have a menu "235"                                     # features/step_definitions/menu_steps.rb:22
    And I have a category "1713"                                # features/step_definitions/category_steps.rb:23
    And I have a choice "66913"                                 # features/step_definitions/choice_steps.rb:27

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/choices/66913/modifiers.json
 ***** Zuppler Request: {:body=>{:modifier=>{"name"=>"cheese", "description"=>"desc", "price"=>0.99, "size"=>"small", "priority"=>"2", "default"=>true}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"modifier":{"customization_id":66913,"id":1779288,"size_name":"small","name":"cheese","description":null,"price":"0.99","priority":2,"active":true,"default":true,"parent_id":549278}}
    When I create ingredient "cheese","desc","0.99","small","2" # features/step_definitions/ingredient_steps.rb:1
    Then I should have ingredient created                       # features/step_definitions/ingredient_steps.rb:26

  @vcr
  Scenario: Update ingredient                                        # features/ingredient.feature:15
    Given Zuppler configured with "zuppler" and "abcd"               # features/step_definitions/initialization_steps.rb:18
    And I have a choice "85100"                                      # features/step_definitions/choice_steps.rb:27
    And I have a ingredient "812695"                                 # features/step_definitions/ingredient_steps.rb:31

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/modifiers/812695.json
 ***** Zuppler Request: {:body=>{:modifier=>{"name"=>"cream", "description"=>"up up", "price"=>1.99, "priority"=>"1", "default"=>true, :customization_id=>"85100"}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"modifier":{"customization_id":85100,"id":812695,"size_name":"Extra-Large","name":"cream","description":"up up","price":"1.99","priority":1,"active":true,"default":true,"parent_id":330875}}
    When I update ingredient "812695" with "cream","1.99","1","true" # features/step_definitions/ingredient_steps.rb:13
    Then I should get success response                               # features/step_definitions/base_steps.rb:1

  @vcr
  Scenario: Delete ingredient                          # features/ingredient.feature:23
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18
    And I have a ingredient "1"                        # features/step_definitions/ingredient_steps.rb:31

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/modifiers/1.json
 ***** Zuppler Request: {:body=>{:modifier=>{"active"=>false}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"modifier":{"id":1,"size_name":"","name":"bacon","price":0.0,"priority":7,"active":true,"parent_id":461}}
    When I delete ingredient                           # features/step_definitions/ingredient_steps.rb:22
    Then I should get success response                 # features/step_definitions/base_steps.rb:1

Feature: Zuppler Initialization
  In order to use Zuppler
  The client has to initialize

  Scenario: Channel and api_key                 # features/initialization.feature:5
    Given Zuppler is loaded                     # features/step_definitions/initialization_steps.rb:14
    When I initialize with zuppler and qwe123   # features/step_definitions/initialization_steps.rb:39
    Then Is initialized with zuppler and qwe123 # features/step_definitions/initialization_steps.rb:62

Feature: Item resource
  Create/Update/Delete item

  @vcr
  Scenario: Create item                                               # features/item.feature:5
    Given Zuppler configured with "zuppler" and "abcd"                # features/step_definitions/initialization_steps.rb:18
    And I have a restaurant "1","demorestaurant"                      # features/step_definitions/restaurant_steps.rb:1
    And I have a menu "235"                                           # features/step_definitions/menu_steps.rb:22
    And I have a category "1712"                                      # features/step_definitions/category_steps.rb:23

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/categories/1712/items.json
 ***** Zuppler Request: {:body=>{:item=>{"name"=>"magio", "description"=>"desc", "price"=>9.99, "priority"=>"1", "size_name"=>"small", "size_priority"=>"2", "min_qty"=>"5"}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"item":{"id":607667,"name":"magio","description":"desc * 5 items minimum.","price":"9.99","coupon":null,"active":true,"parent_id":549279,"priority":1,"veg":null,"spicy":null,"size_name":"small","size_priority":2}}
    When I create item with "magio","desc","9.99","1","small","2","5" # features/step_definitions/item_steps.rb:1
    Then I should have item created                                   # features/step_definitions/item_steps.rb:8

  @vcr
  Scenario: Update item                                     # features/item.feature:14
    Given Zuppler configured with "zuppler" and "abcd"      # features/step_definitions/initialization_steps.rb:18
    And I have a category "1712"                            # features/step_definitions/category_steps.rb:23
    And I have an item "448591"                             # features/step_definitions/item_steps.rb:12

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/448591.json
 ***** Zuppler Request: {:body=>{:item=>{"name"=>"diavolo", "description"=>"dddd", "price"=>8.99, "priority"=>"2", "image_url"=>"http://s3.amazonaws.com/crunchbase_prod_assets/assets/images/resized/0016/4291/164291v2-max-250x250.png", "min_qty"=>"5", :category_id=>"1712"}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"item":{"id":448591,"name":"diavolo","description":"dddd * 5 items minimum.","price":"8.99","coupon":true,"category_id":1712,"active":false,"parent_id":405489,"priority":2,"veg":null,"spicy":0,"size_name":null,"size_priority":null}}
    When I update item with "diavolo","dddd","8.99","2","5" # features/step_definitions/item_steps.rb:16
    Then I should get success response                      # features/step_definitions/base_steps.rb:1

  @vcr
  Scenario: Delete item                                # features/item.feature:22
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18
    And I have an item "448591"                        # features/step_definitions/item_steps.rb:12

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/448591.json
 ***** Zuppler Request: {:body=>{:item=>{"active"=>false}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"item":{"id":448591,"name":"diavolo","description":"dddd * 5 items minimum.","price":"8.99","coupon":true,"active":false,"parent_id":405489,"priority":2,"veg":null,"spicy":0,"size_name":null,"size_priority":null}}
    When I delete item                                 # features/step_definitions/item_steps.rb:26
    Then I should get success response                 # features/step_definitions/base_steps.rb:1

Feature: Menu resource
  Menu resource

  @vcr
  Scenario: Create menu                                # features/menu.feature:5
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18
    And I have a restaurant "1","demorestaurant"       # features/step_definitions/restaurant_steps.rb:1

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/menus.json
 ***** Zuppler Request: {:body=>{:menu=>{"name"=>"lunch", "priority"=>"1", "description"=>"desc", "locked"=>true}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"menu":{"id":28421,"name":"lunch","description":"desc","active":false,"default":null,"use_category_tabs":null,"availability":{"custom":false,"days":255,"time":[],"services":15},"available_on":"","available_at":"Sun: 10:00am  - 10:00am <br/>Mon: 10:00am  - 10:00am <br/>Tue: 10:00am  - 10:00am <br/>Wed: 10:00am  - 10:00am <br/>Thu: 10:00am  - 10:00am <br/>Fri: 10:00am  - 10:00am <br/>Sat: 10:00am  - 10:00am ","resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/menus/28421.json","chain":false,"categories":[]}}
    When I create menu "lunch","desc","1"              # features/step_definitions/menu_steps.rb:1
    Then I should have menu created                    # features/step_definitions/menu_steps.rb:18

  @vcr
  Scenario: Update menu                                # features/menu.feature:12
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18
    And I have a restaurant "1","demorestaurant"       # features/step_definitions/restaurant_steps.rb:1
    And I have a menu "22418"                          # features/step_definitions/menu_steps.rb:22

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/menus/22418.json
 ***** Zuppler Request: {:body=>{:menu=>{"name"=>"mmm", "priority"=>"1", "description"=>"ddd", "active"=>"true", "locked"=>true}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"menu":{"id":22418,"name":"mmm","description":"ddd","active":true,"default":false,"use_category_tabs":true,"available_on":"","available_at":"Sun: 8:00am  - 12:00pm ","resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/menus/22418.json","categories":[{"id":1718,"name":"Entrees","description":"","active":true,"priority":1,"items":[{"id":19055,"name":"New York Strip","description":"grilled 10 oz center cut steak topped with a hint of seasoned butter and an onion ring garnish.  Served with mashed potatoes and vegetables ","price":24.99,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":2,"image":{"active":true,"id":2108,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/108/xlarge/Strip Steak1.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/108/medium/Strip Steak1.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/108/thumb/Strip Steak1.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/108/tiny/Strip Steak1.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/108/original/Strip Steak1.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/19055.json"},{"id":19057,"name":"Grilled Chicken Skewers","description":"skewered chicken breast marinated in Caribbean Jerk seasonings, grilled and drizzled with a mango rum glaze. Served with rice pilaf and vegetables","price":15.0,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":10,"image":{"active":true,"id":3562,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/562/xlarge/Grilled Vegetable Salad.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/562/medium/Grilled Vegetable Salad.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/562/thumb/Grilled Vegetable Salad.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/562/tiny/Grilled Vegetable Salad.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/562/original/Grilled Vegetable Salad.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/19057.json"},{"id":414871,"name":"Cobb Salad","description":"mixed greens topped with avocado, bacon, tomatoes, blue cheese crumbles, and serves with a balsamic vinaigrette","price":10.0,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":0,"image":{"active":true,"id":4543,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/004/543/xlarge/cobb salad.JPG","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/004/543/medium/cobb salad.JPG","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/004/543/thumb/cobb salad.JPG","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/004/543/tiny/cobb salad.JPG","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/004/543/original/cobb salad.JPG"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/414871.json"},{"id":22765,"name":"Blackened Salmon","description":"fresh salmon filet served with mango salsa, rice pilaf and vegetables","price":21.95,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":11,"image":{"active":true,"id":3525,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/xlarge/Smoked Salmon.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/medium/Smoked Salmon.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/thumb/Smoked Salmon.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/tiny/Smoked Salmon.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/original/Smoked Salmon.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/22765.json"},{"id":9939,"name":"Homemade Barbeque Ribs","description":"Half rack of ribs served with french fries and coleslaw","price":22.0,"multiple_sizes":false,"featured":true,"coupon":false,"coupon_code":null,"priority":5,"image":{"active":true,"id":2131,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/131/xlarge/v.JPG","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/131/medium/v.JPG","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/131/thumb/v.JPG","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/131/tiny/v.JPG","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/131/original/v.JPG"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/9939.json"},{"id":9936,"name":"Crab Cakes","description":"pan seared Maryland-style crab cakes served with cilantro-lime cream sauce.  Accompanied by rice and vegetables","price":21.95,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":4,"image":{"active":true,"id":2124,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/124/xlarge/Royal Crab Cakes.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/124/medium/Royal Crab Cakes.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/124/thumb/Royal Crab Cakes.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/124/tiny/Royal Crab Cakes.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/124/original/Royal Crab Cakes.jpg"},"active":false,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/9936.json"},{"id":22776,"name":"Galway Bay Medley in Scampi-Style Sauce","description":"sauteed blend of shrimp, mussels, crab meat, spinach, and tomatoes, tossed with linguini in a scampi-style sauce","price":17.95,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":1,"image":{"active":true,"id":3473,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/473/xlarge/Fried Bean Curd Thai Style.JPG","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/473/medium/Fried Bean Curd Thai Style.JPG","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/473/thumb/Fried Bean Curd Thai Style.JPG","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/473/tiny/Fried Bean Curd Thai Style.JPG","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/473/original/Fried Bean Curd Thai Style.JPG"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/22776.json"},{"id":9941,"name":"Galway Bay Medley in Red Sauce","description":"sauteed blend of shrimp, mussels, crabmeat, spinach and tomatoes, tossed with linguini in a red sauce","price":21.0,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":7,"image":{"active":true,"id":2060,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/060/xlarge/Royal Crab Cakes 1.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/060/medium/Royal Crab Cakes 1.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/060/thumb/Royal Crab Cakes 1.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/060/tiny/Royal Crab Cakes 1.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/060/original/Royal Crab Cakes 1.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/9941.json"},{"id":9943,"name":"Kilkenny Crackling Chicken","description":"Frenched chicken breast marinated in Bushmill's whiskey and seared to a crispy golden brown with pan jus. Served with mashed potatoes and vegetables","price":15.95,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":8,"image":{"active":true,"id":2137,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/137/xlarge/Kilkenny Crackling Chicken.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/137/medium/Kilkenny Crackling Chicken.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/137/thumb/Kilkenny Crackling Chicken.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/137/tiny/Kilkenny Crackling Chicken.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/137/original/Kilkenny Crackling Chicken.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/9943.json"},{"id":9938,"name":"Molly's Mac & Cheese","description":"penne pasta baked with rashers and creamy aged cheddar cheese, topped with toasted bread crumbs","price":13.99,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":0,"image":{"active":true,"id":2129,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/129/xlarge/mac_cheese_lg.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/129/medium/mac_cheese_lg.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/129/thumb/mac_cheese_lg.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/129/tiny/mac_cheese_lg.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/129/original/mac_cheese_lg.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/9938.json"},{"id":19056,"name":"Pan Seared Salmon","description":"fresh salmon filet served with mango salsa, rice pilaf and vegetables","price":21.95,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":9,"image":{"active":true,"id":3525,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/xlarge/Smoked Salmon.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/medium/Smoked Salmon.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/thumb/Smoked Salmon.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/tiny/Smoked Salmon.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/original/Smoked Salmon.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/19056.json"},{"id":9940,"name":"Pan Seared Scallops","description":"pan seared sea scallops with an apple cider demi- glaze. Served with a potato cake and vegetables","price":21.95,"multiple_sizes":false,"featured":true,"coupon":false,"coupon_code":null,"priority":6,"image":{"active":true,"id":2134,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/134/xlarge/Pan Seared Scallops.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/134/medium/Pan Seared Scallops.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/134/thumb/Pan Seared Scallops.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/134/tiny/Pan Seared Scallops.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/134/original/Pan Seared Scallops.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/9940.json"},{"id":9942,"name":"Wild Mushroom Pasta","description":"sauteed blend of crimini, shitake, oyster and portabella mushrooms tossed with roasted red peppers and penne pasta in a creamy Parmesan sauce","price":13.95,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":3,"image":{"active":true,"id":2136,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/136/xlarge/Wild Mushroom Pasta.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/136/medium/Wild Mushroom Pasta.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/136/thumb/Wild Mushroom Pasta.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/136/tiny/Wild Mushroom Pasta.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/136/original/Wild Mushroom Pasta.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/9942.json"}],"image":{"active":false},"resource_url":""}]}}
    When I update menu with "mmm","ddd","true","1"     # features/step_definitions/menu_steps.rb:7
    Then I should get success response                 # features/step_definitions/base_steps.rb:1

  @vcr
  Scenario: Delete menu                                # features/menu.feature:20
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18
    And I have a restaurant "1","demorestaurant"       # features/step_definitions/restaurant_steps.rb:1
    And I have a menu "22418"                          # features/step_definitions/menu_steps.rb:22

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/menus/22418.json
 ***** Zuppler Request: {:body=>{:menu=>{"active"=>false, "locked"=>true}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"menu":{"id":22418,"name":"mmm","description":"ddd","active":false,"default":false,"use_category_tabs":true,"available_on":"","available_at":"Sun: 8:00am  - 12:00pm ","resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/menus/22418.json","categories":[{"id":1718,"name":"Entrees","description":"","active":true,"priority":1,"items":[{"id":19055,"name":"New York Strip","description":"grilled 10 oz center cut steak topped with a hint of seasoned butter and an onion ring garnish.  Served with mashed potatoes and vegetables ","price":24.99,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":2,"image":{"active":true,"id":2108,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/108/xlarge/Strip Steak1.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/108/medium/Strip Steak1.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/108/thumb/Strip Steak1.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/108/tiny/Strip Steak1.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/108/original/Strip Steak1.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/19055.json"},{"id":19057,"name":"Grilled Chicken Skewers","description":"skewered chicken breast marinated in Caribbean Jerk seasonings, grilled and drizzled with a mango rum glaze. Served with rice pilaf and vegetables","price":15.0,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":10,"image":{"active":true,"id":3562,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/562/xlarge/Grilled Vegetable Salad.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/562/medium/Grilled Vegetable Salad.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/562/thumb/Grilled Vegetable Salad.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/562/tiny/Grilled Vegetable Salad.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/562/original/Grilled Vegetable Salad.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/19057.json"},{"id":414871,"name":"Cobb Salad","description":"mixed greens topped with avocado, bacon, tomatoes, blue cheese crumbles, and serves with a balsamic vinaigrette","price":10.0,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":0,"image":{"active":true,"id":4543,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/004/543/xlarge/cobb salad.JPG","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/004/543/medium/cobb salad.JPG","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/004/543/thumb/cobb salad.JPG","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/004/543/tiny/cobb salad.JPG","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/004/543/original/cobb salad.JPG"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/414871.json"},{"id":22765,"name":"Blackened Salmon","description":"fresh salmon filet served with mango salsa, rice pilaf and vegetables","price":21.95,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":11,"image":{"active":true,"id":3525,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/xlarge/Smoked Salmon.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/medium/Smoked Salmon.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/thumb/Smoked Salmon.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/tiny/Smoked Salmon.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/original/Smoked Salmon.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/22765.json"},{"id":9939,"name":"Homemade Barbeque Ribs","description":"Half rack of ribs served with french fries and coleslaw","price":22.0,"multiple_sizes":false,"featured":true,"coupon":false,"coupon_code":null,"priority":5,"image":{"active":true,"id":2131,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/131/xlarge/v.JPG","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/131/medium/v.JPG","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/131/thumb/v.JPG","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/131/tiny/v.JPG","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/131/original/v.JPG"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/9939.json"},{"id":9936,"name":"Crab Cakes","description":"pan seared Maryland-style crab cakes served with cilantro-lime cream sauce.  Accompanied by rice and vegetables","price":21.95,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":4,"image":{"active":true,"id":2124,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/124/xlarge/Royal Crab Cakes.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/124/medium/Royal Crab Cakes.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/124/thumb/Royal Crab Cakes.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/124/tiny/Royal Crab Cakes.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/124/original/Royal Crab Cakes.jpg"},"active":false,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/9936.json"},{"id":22776,"name":"Galway Bay Medley in Scampi-Style Sauce","description":"sauteed blend of shrimp, mussels, crab meat, spinach, and tomatoes, tossed with linguini in a scampi-style sauce","price":17.95,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":1,"image":{"active":true,"id":3473,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/473/xlarge/Fried Bean Curd Thai Style.JPG","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/473/medium/Fried Bean Curd Thai Style.JPG","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/473/thumb/Fried Bean Curd Thai Style.JPG","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/473/tiny/Fried Bean Curd Thai Style.JPG","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/473/original/Fried Bean Curd Thai Style.JPG"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/22776.json"},{"id":9941,"name":"Galway Bay Medley in Red Sauce","description":"sauteed blend of shrimp, mussels, crabmeat, spinach and tomatoes, tossed with linguini in a red sauce","price":21.0,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":7,"image":{"active":true,"id":2060,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/060/xlarge/Royal Crab Cakes 1.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/060/medium/Royal Crab Cakes 1.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/060/thumb/Royal Crab Cakes 1.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/060/tiny/Royal Crab Cakes 1.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/060/original/Royal Crab Cakes 1.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/9941.json"},{"id":9943,"name":"Kilkenny Crackling Chicken","description":"Frenched chicken breast marinated in Bushmill's whiskey and seared to a crispy golden brown with pan jus. Served with mashed potatoes and vegetables","price":15.95,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":8,"image":{"active":true,"id":2137,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/137/xlarge/Kilkenny Crackling Chicken.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/137/medium/Kilkenny Crackling Chicken.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/137/thumb/Kilkenny Crackling Chicken.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/137/tiny/Kilkenny Crackling Chicken.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/137/original/Kilkenny Crackling Chicken.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/9943.json"},{"id":9938,"name":"Molly's Mac & Cheese","description":"penne pasta baked with rashers and creamy aged cheddar cheese, topped with toasted bread crumbs","price":13.99,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":0,"image":{"active":true,"id":2129,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/129/xlarge/mac_cheese_lg.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/129/medium/mac_cheese_lg.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/129/thumb/mac_cheese_lg.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/129/tiny/mac_cheese_lg.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/129/original/mac_cheese_lg.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/9938.json"},{"id":19056,"name":"Pan Seared Salmon","description":"fresh salmon filet served with mango salsa, rice pilaf and vegetables","price":21.95,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":9,"image":{"active":true,"id":3525,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/xlarge/Smoked Salmon.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/medium/Smoked Salmon.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/thumb/Smoked Salmon.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/tiny/Smoked Salmon.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/003/525/original/Smoked Salmon.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/19056.json"},{"id":9940,"name":"Pan Seared Scallops","description":"pan seared sea scallops with an apple cider demi- glaze. Served with a potato cake and vegetables","price":21.95,"multiple_sizes":false,"featured":true,"coupon":false,"coupon_code":null,"priority":6,"image":{"active":true,"id":2134,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/134/xlarge/Pan Seared Scallops.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/134/medium/Pan Seared Scallops.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/134/thumb/Pan Seared Scallops.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/134/tiny/Pan Seared Scallops.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/134/original/Pan Seared Scallops.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/9940.json"},{"id":9942,"name":"Wild Mushroom Pasta","description":"sauteed blend of crimini, shitake, oyster and portabella mushrooms tossed with roasted red peppers and penne pasta in a creamy Parmesan sauce","price":13.95,"multiple_sizes":false,"featured":false,"coupon":false,"coupon_code":null,"priority":3,"image":{"active":true,"id":2136,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/136/xlarge/Wild Mushroom Pasta.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/136/medium/Wild Mushroom Pasta.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/136/thumb/Wild Mushroom Pasta.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/136/tiny/Wild Mushroom Pasta.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/002/136/original/Wild Mushroom Pasta.jpg"},"active":true,"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/items/9942.json"}],"image":{"active":false},"resource_url":""}]}}
    When I delete menu                                 # features/step_definitions/menu_steps.rb:14
    Then I should get success response                 # features/step_definitions/base_steps.rb:1

Feature: Modifier resource
  Modifier resource

  @vcr
  Scenario: Create modifier                                 # features/modifier.feature:5
    Given Zuppler configured with "zuppler" and "abcd"      # features/step_definitions/initialization_steps.rb:18
    And I have a restaurant "1","demorestaurant"            # features/step_definitions/restaurant_steps.rb:1

 ***** Zuppler Url: http://restaurants-api.biznettechnologies.com/v4/restaurants/demorestaurant/modifiers.json
 ***** Zuppler Request: {:body=>{:modifier=>{"name"=>"toppings", "description"=>"desc", "multiple"=>"true", "min_qty"=>0, "max_qty"=>"5", "priority"=>"2"}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"status":{"code":201,"message":"Created"}}
    When I create modifier "toppings","desc","true","5","2" # features/step_definitions/modifier_steps.rb:1
    Then I should have modifier created                     # features/step_definitions/modifier_steps.rb:18

  @vcr
  Scenario: Update modifier                             # features/modifier.feature:12
    Given Zuppler configured with "zuppler" and "abcd"  # features/step_definitions/initialization_steps.rb:18
    And I have a modifier "1218"                        # features/step_definitions/modifier_steps.rb:22

 ***** Zuppler Url: http://restaurants-api.biznettechnologies.com/v4/restaurants/demorestaurant/modifiers/1218.json
 ***** Zuppler Request: {:body=>{:modifier=>{"name"=>"updated", "multiple"=>"true", "min_qty"=>"3", "max_qty"=>"5", "priority"=>"1"}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"modifier":{"id":1218,"name":"updated","multiple":true,"min_qty":3,"max_qty":5,"priority":1,"active":false}}
    When I update modifier "updated","true","3","5","1" # features/step_definitions/modifier_steps.rb:7
    Then I should get success response                  # features/step_definitions/base_steps.rb:1

  @vcr
  Scenario: Delete modifier                            # features/modifier.feature:19
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18
    And I have a modifier "1218"                       # features/step_definitions/modifier_steps.rb:22

 ***** Zuppler Url: http://restaurants-api.biznettechnologies.com/v4/restaurants/demorestaurant/modifiers/1218.json
 ***** Zuppler Request: {:body=>{:modifier=>{"active"=>false}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"modifier":{"id":1218,"name":"updated","multiple":true,"min_qty":3,"max_qty":5,"priority":1,"active":false}}
    When I delete modifier                             # features/step_definitions/modifier_steps.rb:14
    Then I should get success response                 # features/step_definitions/base_steps.rb:1

Feature: Notification resource
  Notification resource

  @vcr
  Scenario: Execute                                            # features/notification.feature:5
    Given Zuppler configured with "zuppler" and "qwe123"       # features/step_definitions/initialization_steps.rb:18
    And I have an order "4d81ba6c-9507-11e4-a48a-22000b5d9596" # features/step_definitions/order_steps.rb:1

 ***** Zuppler Url: http://orders-api.biznettechnologies.com/v4/orders/4d81ba6c-9507-11e4-a48a-22000b5d9596/notifications/pos/execute.json
 ***** Zuppler Request: {:body=>{"sender"=>"cucumber", "duration"=>nil}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"status":{"code":202,"message":"Accepted"}}
    When I execute "pos" notification                          # features/step_definitions/notification_steps.rb:1
    Then I should have notification accepted                   # features/step_definitions/notification_steps.rb:10

  @vcr
  Scenario: Confirm                                            # features/notification.feature:12
    Given Zuppler configured with "zuppler" and "qwe123"       # features/step_definitions/initialization_steps.rb:18
    And I have an order "4d81ba6c-9507-11e4-a48a-22000b5d9596" # features/step_definitions/order_steps.rb:1

 ***** Zuppler Url: http://orders-api.biznettechnologies.com/v4/orders/4d81ba6c-9507-11e4-a48a-22000b5d9596/notifications/pos/confirm.json
 ***** Zuppler Request: {:body=>{"sender"=>"cucumber", "duration"=>nil}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"status":{"code":202,"message":"Accepted"}}
    When I confirm "pos" notification                          # features/step_definitions/notification_steps.rb:5
    Then I should have notification accepted                   # features/step_definitions/notification_steps.rb:10

Feature: Option resource
  Option resource

  @vcr
  Scenario: Create option                              # features/option.feature:5
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18
    And I have a restaurant "1","demorestaurant"       # features/step_definitions/restaurant_steps.rb:1
    And I have a modifier "1218"                       # features/step_definitions/modifier_steps.rb:22

 ***** Zuppler Url: http://restaurants-api.biznettechnologies.com/v4/restaurants/demorestaurant/modifiers/1218/options.json
 ***** Zuppler Request: {:body=>{:option=>{"name"=>"cheese", "description"=>"desc", "price"=>99, "priority"=>"2"}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"status":{"code":201,"message":"Created"}}
    When I create option "cheese","desc","99","2"      # features/step_definitions/option_steps.rb:1
    Then I should have option created                  # features/step_definitions/option_steps.rb:16

  @vcr
  Scenario: Update option                              # features/option.feature:13
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18
    And I have an option "7804"                        # features/step_definitions/option_steps.rb:20

 ***** Zuppler Url: http://restaurants-api.biznettechnologies.com/v4/restaurants/demorestaurant/options/7804.json
 ***** Zuppler Request: {:body=>{:option=>{"name"=>"updated", "price"=>9, "priority"=>"1"}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"option":{"id":7804,"name":"updated","price":9}}
    When I update option with "updated","9","1","true" # features/step_definitions/option_steps.rb:7
    Then I should get success response                 # features/step_definitions/base_steps.rb:1

  @vcr
  Scenario: Delete option                              # features/option.feature:20
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18
    And I have an option "7804"                        # features/step_definitions/option_steps.rb:20

 ***** Zuppler Url: http://restaurants-api.biznettechnologies.com/v4/restaurants/demorestaurant/options/7804.json
 ***** Zuppler Request: {:body=>{:option=>{"active"=>false}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"option":{"id":7804,"name":"updated","price":9}}
    When I delete option                               # features/step_definitions/option_steps.rb:12
    Then I should get success response                 # features/step_definitions/base_steps.rb:1

Feature: Order resource
  Create/Update order

  @vcr
  Scenario: Show order                                         # features/order.feature:5
    Given Zuppler configured with "zuppler" and "qwe123"       # features/step_definitions/initialization_steps.rb:18
    And I have an order "793c50d8-c0bc-11e3-8cc3-22000a98a19e" # features/step_definitions/order_steps.rb:1

 ***** Zuppler Url: http://orders-api.biznettechnologies.com/v4/orders/793c50d8-c0bc-11e3-8cc3-22000a98a19e.json
 ***** Zuppler Request: {:body=>{}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"order":{"id":"793c50d8-c0bc-11e3-8cc3-22000a98a19e","code":"7447","favorite":null,"carts":[{"uuid":"a3ae524a-c0bb-11e3-9321-12313931488a","version":0,"member":{"name":"Vinit Agrawal"},"items":[{"id":2495619,"quantity":1,"name":"Build Your Own... Nalley Salad","groups":[{"name":"Protein choice","substitution":"null","modifiers":[{"id":2433063,"modifier_id":750732,"dish_id":69760,"quantity":1,"name":"Falafel Baked - Gluten-Free","alias":"","price":0,"tax":0,"total":0,"priority":14}]},{"name":"Greens choice","substitution":"null","modifiers":[{"id":2433064,"modifier_id":124523,"dish_id":69765,"quantity":1,"name":"Romaine","alias":"ROM","price":0,"tax":0,"total":0,"priority":7}]},{"name":"Toppings add 8","substitution":"null","modifiers":[{"id":2433065,"modifier_id":307149,"dish_id":139962,"quantity":1,"name":"Black Beans","alias":"BBeans","price":0,"tax":0,"total":0,"priority":0},{"id":2433066,"modifier_id":132124,"dish_id":83691,"quantity":1,"name":"Brown Rice","alias":"BrownRICE","price":0,"tax":0,"total":0,"priority":0},{"id":2433067,"modifier_id":93431,"dish_id":69774,"quantity":1,"name":"Craisins","alias":"CRAZ","price":0,"tax":0,"total":0,"priority":0},{"id":2433068,"modifier_id":93436,"dish_id":69779,"quantity":1,"name":"Cucumber","alias":"CUK","price":0,"tax":0,"total":0,"priority":0},{"id":2433069,"modifier_id":150324,"dish_id":87355,"quantity":1,"name":"Edamame - Soy Beans","alias":"EDA","price":0,"tax":0,"total":0,"priority":0},{"id":2433070,"modifier_id":124357,"dish_id":81982,"quantity":1,"name":"Red Onion","alias":"ONION","price":0,"tax":0,"total":0,"priority":0},{"id":2433071,"modifier_id":567307,"dish_id":237627,"quantity":1,"name":"Red Quinoa","alias":"QUIN","price":0,"tax":0,"total":0,"priority":0},{"id":2433072,"modifier_id":124359,"dish_id":81984,"quantity":1,"name":"Tortilla Strips Toasted","alias":"Tort","price":0,"tax":0,"total":0,"priority":0}]},{"name":"Salad Dressings","substitution":"null","modifiers":[{"id":2433073,"modifier_id":207252,"dish_id":76055,"quantity":1,"name":"Cucumber-Yogurt dairy","alias":"CY","price":0,"tax":0,"total":0,"priority":11}]}],"menu":"Menu","category":"Nalley Salads","barcode":"","alias":"Build a SALAD","price":800,"tax":48,"item_total":800,"total":800,"comments":null,"resource_url":"","item_name":"Build Your Own... Nalley Salad","item_id":370344,"dish_id":148489,"size_name":null,"priority":3}],"discounts":[],"adjustments":[]}],"tracking":"","resource_url":"http://orders-api.biznettechnologies.com/v4/orders/793c50d8-c0bc-11e3-8cc3-22000a98a19e.json","placed_at":"2014-04-10T10:29:07-04:00","comments":null,"customer":{"name":null,"email":null,"phone":null,"address":null,"resource_url":"http://users-api.biznettechnologies.com/v1/users/39260.json"},"channel":{"id":32,"permalink":"nalleyfresh","name":"Nalley Fresh","resource_url":"http://restaurants-api.biznettechnologies.com/v3/channels/nalleyfresh.json","integration":"site"},"restaurant":{"id":623,"permalink":"nalleyfresh","name":"Nalley Fresh - Baltimore","address":{"lat":"39.289646","lng":"-76.612896","delivery_instructions":null,"full":"120 E Baltimore St, Baltimore, MD 21202"},"locale":"en","resource_url":"http://restaurants-api.biznettechnologies.com/v3/channels/nalleyfresh/restaurants/nalleyfresh.json"},"service":{"id":"PICKUP","label":"Pickup","value":{"location":"120 E Baltimore St, Baltimore, MD 21202"}},"time":{"id":"SCHEDULE","label":"Scheduled","value":"2014-04-10T11:40:00-04:00","estimation":{"fire":"2014-04-10T11:10:00-04:00","pickup":"2014-04-10T11:40:00-04:00","delivery":null}},"tender":{"id":"CARD","label":"Credit Card","value":{"paid":true,"type":"discover","last_4_digits":"1513","as":"Zuppler Food Order"}},"tip":{"id":"PERCENT","label":"Percent","value":0},"settings":{"catering":null,"extra_fields":[]},"totals":{"subtotal":800,"discount":0,"charges":{"delivery":0,"service":0},"tax":48,"tip":0,"total":848},"rewards":{"bucks":64,"points":8000},"links":[{"name":"self","methods":["get","put"],"url":"http://orders-api.biznettechnologies.com/v4/orders/793c50d8-c0bc-11e3-8cc3-22000a98a19e.json"},{"name":"notifications","methods":["get"],"url":"http://orders-api.biznettechnologies.com/v4/orders/793c50d8-c0bc-11e3-8cc3-22000a98a19e/notifications.json"},{"name":"events","methods":["get","post"],"url":"http://orders-api.biznettechnologies.com/v4/orders/793c50d8-c0bc-11e3-8cc3-22000a98a19e/events.json"},{"name":"confirm","methods":["put"],"url":"http://orders-api.biznettechnologies.com/v4/orders/793c50d8-c0bc-11e3-8cc3-22000a98a19e/confirm.json"},{"name":"cancel","methods":["put"],"url":"http://orders-api.biznettechnologies.com/v4/orders/793c50d8-c0bc-11e3-8cc3-22000a98a19e/cancel.json"},{"name":"miss","methods":["put"],"interactive":false,"url":"http://orders-api.biznettechnologies.com/v4/orders/793c50d8-c0bc-11e3-8cc3-22000a98a19e/miss.json"},{"name":"execute","methods":["put"],"interactive":false,"url":"http://orders-api.biznettechnologies.com/v4/orders/793c50d8-c0bc-11e3-8cc3-22000a98a19e/execute.json"},{"name":"refresh","methods":["put"],"interactive":true,"url":"http://orders-api.biznettechnologies.com/v4/orders/793c50d8-c0bc-11e3-8cc3-22000a98a19e/touch.json"},{"name":"open","methods":["put"],"interactive":false,"url":"http://orders-api.biznettechnologies.com/v4/orders/793c50d8-c0bc-11e3-8cc3-22000a98a19e/open.json"},{"name":"close","methods":["put"],"interactive":false,"url":"http://orders-api.biznettechnologies.com/v4/orders/793c50d8-c0bc-11e3-8cc3-22000a98a19e/close.json"},{"name":"discounts","methods":["get"],"interactive":false,"url":"http://carts.api.biznettechnologies.com/api/v5/orders/793c50d8-c0bc-11e3-8cc3-22000a98a19e/discounts"},{"name":"ambassadors","methods":["get"],"interactive":false,"url":"http://carts.api.biznettechnologies.com/api/v5/orders/793c50d8-c0bc-11e3-8cc3-22000a98a19e/ambassadors"}]}}
W, [2018-05-21T14:57:54.778374 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:57:54.778446 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:57:54.778470 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:57:54.778488 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:57:54.778508 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:57:54.778528 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:57:54.778551 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:57:54.778613 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:57:54.778642 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:57:54.778662 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:57:54.778680 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:57:54.778723 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
    When I fetch order details                                 # features/step_definitions/order_steps.rb:5
    Then I should have order details                           # features/step_definitions/order_steps.rb:37

  @vcr
  Scenario: Confirm order                                      # features/order.feature:12
    Given Zuppler configured with "zuppler" and "qwe123"       # features/step_definitions/initialization_steps.rb:18
    And I have an order "e692b248-57f7-11e5-99a6-927284b3d77a" # features/step_definitions/order_steps.rb:1

 ***** Zuppler Url: http://orders-api.biznettechnologies.com/v4/orders/e692b248-57f7-11e5-99a6-927284b3d77a/confirm.json
 ***** Zuppler Request: {:body=>{"time"=>"2016-07-12 11:23", "duration"=>20, "sender"=>"test"}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"status":{"code":202,"message":"Accepted"}}
    When I confirm order                                       # features/step_definitions/order_steps.rb:9
    Then I should have order accepted                          # features/step_definitions/order_steps.rb:31

  @vcr
  Scenario: Cancel order                                       # features/order.feature:19
    Given Zuppler configured with "zuppler" and "qwe123"       # features/step_definitions/initialization_steps.rb:18
    And I have an order "fcbe0bfe-78df-11e5-94c3-4e2ac2a314c1" # features/step_definitions/order_steps.rb:1

 ***** Zuppler Url: http://orders-api.biznettechnologies.com/v4/orders/fcbe0bfe-78df-11e5-94c3-4e2ac2a314c1/cancel.json
 ***** Zuppler Request: {:body=>{"reason"=>"food was cold", "sender"=>"test"}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"status":{"code":202,"message":"Accepted"}}
    When I cancel order                                        # features/step_definitions/order_steps.rb:12
    Then I should have order accepted                          # features/step_definitions/order_steps.rb:31

  @vcr
  Scenario: Miss order                                         # features/order.feature:26
    Given Zuppler configured with "zuppler" and "qwe123"       # features/step_definitions/initialization_steps.rb:18
    And I have an order "fcbe0bfe-78df-11e5-94c3-4e2ac2a314c1" # features/step_definitions/order_steps.rb:1

 ***** Zuppler Url: http://orders-api.biznettechnologies.com/v4/orders/fcbe0bfe-78df-11e5-94c3-4e2ac2a314c1/miss.json
 ***** Zuppler Request: {:body=>{"sender"=>"test", "force"=>true}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"status":{"code":202,"message":"Accepted"}}
    When I miss order                                          # features/step_definitions/order_steps.rb:15
    Then I should have order accepted                          # features/step_definitions/order_steps.rb:31

  @vcr
  Scenario: Open order                                         # features/order.feature:33
    Given Zuppler configured with "zuppler" and "qwe123"       # features/step_definitions/initialization_steps.rb:18
    And I have an order "faf1ff3c-c0b8-11e3-8cc3-22000a98a19e" # features/step_definitions/order_steps.rb:1
Put Request retry failed for: http://orders-api.biznettechnologies.com/v4/orders/faf1ff3c-c0b8-11e3-8cc3-22000a98a19e/open.json with message: OK

 ***** Zuppler Url: http://orders-api.biznettechnologies.com/v4/orders/faf1ff3c-c0b8-11e3-8cc3-22000a98a19e/open.json
 ***** Zuppler Request: {:body=>{"reason"=>"out of fish", "sender"=>"test"}, :headers=>{}}
 ***** Zuppler Response: {"success":false,"status":{"code":500,"message":"undefined method `uuid' for nil:NilClass"}}
    When I open order                                          # features/step_definitions/order_steps.rb:18
    Then I get hash response                                   # features/step_definitions/order_steps.rb:34

  @vcr
  Scenario: Close order                                        # features/order.feature:40
    Given Zuppler configured with "zuppler" and "qwe123"       # features/step_definitions/initialization_steps.rb:18
    And I have an order "faf1ff3c-c0b8-11e3-8cc3-22000a98a19e" # features/step_definitions/order_steps.rb:1
Put Request retry failed for: http://orders-api.biznettechnologies.com/v4/orders/faf1ff3c-c0b8-11e3-8cc3-22000a98a19e/close.json with message: OK

 ***** Zuppler Url: http://orders-api.biznettechnologies.com/v4/orders/faf1ff3c-c0b8-11e3-8cc3-22000a98a19e/close.json
 ***** Zuppler Request: {:body=>{"sender"=>"test"}, :headers=>{}}
 ***** Zuppler Response: {"success":false,"status":{"code":500,"message":"undefined method `in_time_zone' for nil:NilClass"}}
    When I close order                                         # features/step_definitions/order_steps.rb:21
    Then I get hash response                                   # features/step_definitions/order_steps.rb:34

  @vcr
  Scenario: Touch order                                        # features/order.feature:47
    Given Zuppler configured with "zuppler" and "qwe123"       # features/step_definitions/initialization_steps.rb:18
    And I have an order "fcbe0bfe-78df-11e5-94c3-4e2ac2a314c1" # features/step_definitions/order_steps.rb:1

 ***** Zuppler Url: http://orders-api.biznettechnologies.com/v4/orders/fcbe0bfe-78df-11e5-94c3-4e2ac2a314c1/touch.json
 ***** Zuppler Request: {:body=>{"sender"=>"test"}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"status":{"code":202,"message":"Accepted"}}
    When I touch order                                         # features/step_definitions/order_steps.rb:24
    Then I should have order accepted                          # features/step_definitions/order_steps.rb:31

  @vcr
  Scenario: Update order                                       # features/order.feature:54
    Given Zuppler configured with "zuppler" and "qwe123"       # features/step_definitions/initialization_steps.rb:18
    And I have an order "faf1ff3c-c0b8-11e3-8cc3-22000a98a19e" # features/step_definitions/order_steps.rb:1

 ***** Zuppler Url: http://orders-api.biznettechnologies.com/v4/orders/faf1ff3c-c0b8-11e3-8cc3-22000a98a19e.json
 ***** Zuppler Request: {:body=>{:order=>{"metadata"=>{:rds=>{:market_id=>12}}}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"Updated"},"order":{"id":"faf1ff3c-c0b8-11e3-8cc3-22000a98a19e","favorite":null,"metadata":{"rds":{"market_id":"12"},"pos":null}}}
    When I update order                                        # features/step_definitions/order_steps.rb:27
    Then I should have order accepted                          # features/step_definitions/order_steps.rb:31

Feature: Restaurant resource
  Client uses this resource to create/update a restaurant.

  Scenario: Check zuppler initialization # features/restaurant.feature:4
    Given Zuppler is loaded              # features/step_definitions/initialization_steps.rb:14
    When Zuppler is not initialized      # features/step_definitions/initialization_steps.rb:49
    Then Restaurants should raise error  # features/step_definitions/restaurant_steps.rb:41

  @vcr
  Scenario: Create restaurant                                                       # features/restaurant.feature:10
    Given Zuppler configured with "zuppler" and "abcd"                              # features/step_definitions/initialization_steps.rb:18

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants.json
 ***** Zuppler Request: {:body=>{:restaurant=>{"name"=>"Restaurant - Raynor-Lemke", "address"=>"102 Church Ave, College Station, 77840"}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"restaurant":{"id":3614,"name":"Restaurant - Cronin Group","permalink":"restaurantcroningroup","locale":"en","welcome_message":null,"locations":[{"id":4261,"name":"102 Church Avenue, College Station","address":"102 Church Ave, College Station, 77840","geo":{"lat":"30.6168383","lng":"-96.3488479"}}],"loyalty_services":[],"configuration":{"require_cross_street":false,"hide_comments":null,"sold_out":null,"ordering_paused":false,"disable_group_ordering":null,"disable_quantity":null,"catering":null,"napkins":true,"delivery":{"active":false,"settings":{"description":null,"min_order":"15.0"},"contact":{"name":null,"email":null,"phone":null,"fax":null},"rules":[]},"pickup":{"active":false,"settings":{"description":null,"min_order":0},"contact":{"name":null,"email":null,"phone":null,"fax":null}},"dinein":{"active":null,"settings":{"description":null,"min_order":0},"contact":{"name":null,"email":null,"phone":null,"fax":null}},"curbside":{"active":null,"settings":{"description":null,"min_order":0},"contact":{"name":null,"email":null,"phone":null,"fax":null}},"payments":{"credit_card":true,"credit_card_on_delivery":false,"cash":true,"custom":null},"taxes":{"service_charge":0.0,"sales":10.0}},"discounts":[],"events":[],"timezone":{"name":"Eastern Time (US & Canada)","offset":-240},"logo":{"active":false},"amenities":"","cuisines":"","address":{},"hours_of_operation":{"info":"<strong>Sun - Sat</strong>: 6:00am  - 12:00pm , 12:00pm  - 6:00pm , 6:00pm  - 12:00am  (next day)<br/>","days":{"Sun":["06:00-12:00","12:00-18:00","18:00-24:00"],"Mon":["06:00-12:00","12:00-18:00","18:00-24:00"],"Tue":["06:00-12:00","12:00-18:00","18:00-24:00"],"Wed":["06:00-12:00","12:00-18:00","18:00-24:00"],"Thu":["06:00-12:00","12:00-18:00","18:00-24:00"],"Fri":["06:00-12:00","12:00-18:00","18:00-24:00"],"Sat":["06:00-12:00","12:00-18:00","18:00-24:00"]},"machine":[[[360,720],[720,1080],[1080,1440]],[[360,720],[720,1080],[1080,1440]],[[360,720],[720,1080],[1080,1440]],[[360,720],[720,1080],[1080,1440]],[[360,720],[720,1080],[1080,1440]],[[360,720],[720,1080],[1080,1440]],[[360,720],[720,1080],[1080,1440]]]},"messages":{},"localization_resource_url":"http://api.biznettechnologies.com/v3/menu_localizations/en.json","menus_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/restaurantcroningroup/menus.json","menu_messages":[],"gallery":[],"images":[],"collaborations":{"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/restaurantcroningroup/collaborations.json"},"orders":{"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/restaurantcroningroup/orders.json"}}}
    When I create "Restaurant", "102 Church Ave, College Station, 77840" restaurant # features/step_definitions/restaurant_steps.rb:5
    Then I should have "oscar" restaurant                                           # features/step_definitions/restaurant_steps.rb:38

  @vcr
  Scenario: Find restaurant                            # features/restaurant.feature:16
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18
    When I find restaurant "demorestaurant"            # features/step_definitions/restaurant_steps.rb:10
    Then I should have "demorestaurant" restaurant     # features/step_definitions/restaurant_steps.rb:38

  @vcr
  Scenario: Exist restaurant                           # features/restaurant.feature:22
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant.json
 ***** Zuppler Request: {:body=>{}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"restaurant":{"id":242,"name":"demo","permalink":"demorestaurant","locale":"en","welcome_message":"If you would like to place a delivery order, select the delivery address as 1500 Market Street, Philadelphia PA.  \n\nWe are the best.\n","locations":[{"id":4239,"name":"730 E Elm Street, Conshohocken","address":"730 E Elm Street, Conshohocken, PA 19428","geo":{"lat":"40.074143","lng":"-75.292784"}}],"loyalty_services":[{"id":1,"settings":{"businessid":"chickensaladchick","pos_id":"8"},"type":"Restaurant::LoyalTreeService"}],"configuration":{"require_cross_street":false,"hide_comments":false,"sold_out":true,"ordering_paused":true,"disable_group_ordering":false,"disable_quantity":null,"catering":false,"napkins":true,"extra_fields":"set(label: \"Send a Gift\", name: \"Gift Options\")\n          date(birthday_date, name: \"Date\", label: \"Date\", dateFormat: \"d\", observe: \"zuppler.cart.settings.time.value\", observeDateFormat: \"yyyy-MM-dd HH:mm\")\n          text(gift_recipent_name, name: \"Gift Recipient Name\", label: \"Gift Recipent Name\")\n          text(gift_recipent_phone, name: \"Gift Recipient Phone\", label: \"Gift Recipent Phone\")\n          area(gift_special_message, name: \"Special Message\", label: \"Special Message\", rows: 3, note: \"Enter a special message to attach with the gift....\")\n          choices(occassion, name: \"What is the Occassion?\", label: \"Occassion\", values: [\"Birthday\", \"Anniversary\", \"Get Well Soon\", \"Simply because they are special\"], required)\n        endset\n\n        set(name: \"Allergies\", label: \"Allergies?\")\n          yesno(nut_allergies, label: \"Nut allergies\", name: \"Do you have any nut allergies?\", default: \"no\")\n        endset\n\n        set(name: \"Silverware\", label: \"Plastic Silverware\")\n          choices(napkins_reloaded, name: \"Silverware\", label: \"I need\", values:[\"Fork & Knife\", \"Chopsticks\", \"Save the planet and Go Green! No, Thanks!\"], default: \"Fork & Knife\")\n\nchoices(occassion, name: \"What is the Occassion?\", label: \"Occassion\", values: [\"Birthday\", \"Anniversary\", \"Get Well Soon\", \"Simply because they are special\"], required)\n\nchoices(occassion, name: \"What is the Occassion?\", label: \"Occassion\", values: [\"Birthday\", \"Anniversary\", \"Get Well Soon\", \"Simply because they are special\"], required)\n\nchoices(occassion, name: \"What is the Occassion?\", label: \"Occassion\", values: [\"Birthday\", \"Anniversary\", \"Get Well Soon\", \"Simply because they are special\"], required)\n\n        endset\n","delivery":{"active":true,"settings":{"description":"NOTE: $3.99 DELIVERY + 15% GRATUITY FOR ORDERS UP TO $100; FREE DELIVERY + 10% GRATUITY FOR ORDERS OVER $100.","min_order":"10.0"},"contact":{"name":"demo","email":"jerry.dani@zuppler.com","phone":"18889877537","fax":"18885033658"},"rules":[]},"pickup":{"active":true,"settings":{"description":"Come to the express lane to pickup your order. Your order will be ready and waiting for you. :)","min_order":0},"contact":{"name":"Demo","email":"jerry.dani@zuppler.com","phone":"18889877537","fax":"18885033658"}},"dinein":{"active":true,"settings":{"description":"Come to the express lane to pickup your order. Your order will be ready and waiting for you. :)","min_order":0},"contact":{"name":"Demo","email":"jerry.dani@zuppler.com","phone":"18889877537","fax":"18885033658"}},"curbside":{"active":true,"settings":{"description":"Please call us when you reach the curbside lane. Please Note: You do not have to get out of your car.  We will come to you with your order.","min_order":0},"contact":{"name":"demo","email":"","phone":"8883917107","fax":""}},"payments":{"credit_card":true,"credit_card_on_delivery":true,"cash":true,"custom":"secret"},"taxes":{"service_charge":5.0,"sales":7.0}},"discounts":[{"id":5408,"start_date":"2015-08-26","end_date":null,"first_time":true,"type":"PercentDiscount","promo":true,"badge":"10%","title":" off on orders_more than $100","applicable_on":"","active":true},{"id":5407,"start_date":"2015-07-22","end_date":null,"first_time":false,"type":"AmountDiscount","promo":false,"badge":"$10.00","title":" off on orders_more than $50","applicable_on":"","active":true},{"id":5406,"start_date":"2015-07-22","end_date":null,"first_time":false,"type":"PercentDiscount","promo":false,"badge":"10%","title":" off on orders_more than $100","applicable_on":"","active":true},{"id":5405,"start_date":"2015-07-22","end_date":null,"first_time":false,"type":"PercentDiscount","promo":false,"badge":"10%","title":" off on orders_more than $50","applicable_on":"","active":true},{"id":5371,"start_date":"2015-02-26","end_date":"2015-07-01","first_time":false,"type":"AmountDiscount","promo":true,"badge":"$11.00","title":" off on the order.","applicable_on":"","active":false},{"id":5404,"start_date":"2015-05-04","end_date":null,"first_time":false,"type":"AmountDiscount","promo":true,"badge":"$15.00","title":" off on orders_more than $99","applicable_on":"","active":true},{"id":5403,"start_date":"2015-04-06","end_date":"2015-08-01","first_time":false,"type":"PercentDiscount","promo":false,"badge":"10%","title":" off on the order.","applicable_on":"","active":false},{"id":5402,"start_date":"2015-03-16","end_date":null,"first_time":false,"type":"AmountDiscount","promo":true,"badge":"$15.00","title":" off on orders_more than $99","applicable_on":"","active":true},{"id":904,"start_date":"2011-11-03","end_date":null,"first_time":true,"type":"PercentDiscount","promo":false,"badge":"20%","title":" off on orders_more than $50","applicable_on":"","active":true},{"id":5401,"start_date":"2015-03-16","end_date":null,"first_time":false,"type":"AmountDiscount","promo":true,"badge":"$15.00","title":" off on orders_more than $99","applicable_on":"","active":true},{"id":756,"start_date":"2014-04-16","end_date":"2014-04-30","first_time":false,"type":"PercentDiscount","promo":false,"badge":"15%","title":" off on orders_more than $10","applicable_on":"","active":false},{"id":1549,"start_date":"2013-02-10","end_date":null,"first_time":true,"type":"AmountDiscount","promo":true,"badge":"$5.00","title":" off on orders_more than $25","applicable_on":"Mon, Tue, Wed, Thu","active":true},{"id":2349,"start_date":"2013-09-26","end_date":"2013-09-30","first_time":false,"type":"AmountDiscount","promo":true,"badge":"$5.00","title":" off on orders_more than $30","applicable_on":"Sun, Mon, Tue, Wed, Thu with pickup only","active":false},{"id":2350,"start_date":"2013-09-26","end_date":"2013-09-30","first_time":false,"type":"AmountDiscount","promo":true,"badge":"$5.00","title":" off on orders_more than $30","applicable_on":"Sun, Mon, Tue, Wed, Thu with pickup only","active":false},{"id":2366,"start_date":"2013-10-01","end_date":null,"first_time":false,"type":"PercentDiscount","promo":true,"badge":"20%","title":" off on orders_more than $20","applicable_on":"","active":true},{"id":2367,"start_date":"2013-10-01","end_date":null,"first_time":false,"type":"PercentDiscount","promo":true,"badge":"20%","title":" off on orders_more than $20","applicable_on":"","active":true},{"id":2389,"start_date":"2013-10-09","end_date":null,"first_time":true,"type":"PercentDiscount","promo":false,"badge":"15%","title":" off on the order.","applicable_on":"","active":true},{"id":759,"start_date":"2014-03-20","end_date":"2014-03-24","first_time":false,"type":"PercentDiscount","promo":true,"badge":"20%","title":" off on orders_more than $10","applicable_on":"with pickup only","active":false},{"id":3219,"start_date":"2014-04-15","end_date":"2014-04-15","first_time":true,"type":"AmountDiscount","promo":false,"badge":"$10.00","title":" off on the order.","applicable_on":"","active":false},{"id":3229,"start_date":"2014-04-22","end_date":"2014-04-22","first_time":true,"type":"PercentDiscount","promo":false,"badge":"20%","title":" off on orders_more than $20","applicable_on":"Mon, Tue, Wed, Thu, Fri with pickup only","active":false},{"id":3240,"start_date":"2014-04-23","end_date":"2014-04-30","first_time":false,"type":"AmountDiscount","promo":false,"badge":"$10.00","title":" off on orders_more than $50","applicable_on":"Mon, Tue, Wed, Thu with  delivery by conshymenus.com only","active":false},{"id":3230,"start_date":"2014-04-22","end_date":"2014-04-30","first_time":false,"type":"AmountDiscount","promo":true,"badge":"$10.00","title":" off on orders_more than $50","applicable_on":"with  delivery by conshymenus.com only","active":false},{"id":3284,"start_date":"2014-05-08","end_date":"2014-05-15","first_time":false,"type":"PercentDiscount","promo":false,"badge":"25%","title":" off on orders_more than $100","applicable_on":"Mon, Tue, Wed, Thu with pickup only","active":false},{"id":3292,"start_date":"2014-05-11","end_date":null,"first_time":false,"type":"PercentDiscount","promo":true,"badge":"12%","title":" off on orders_more than $10","applicable_on":"","active":true},{"id":3294,"start_date":"2014-05-12","end_date":"2014-05-19","first_time":false,"type":"PercentDiscount","promo":false,"badge":"10%","title":" off on orders_more than $40","applicable_on":"Mon, Tue, Wed, Thu, Fri with pickup only","active":false},{"id":3295,"start_date":"2014-05-12","end_date":null,"first_time":false,"type":"AmountDiscount","promo":true,"badge":"$3.50","title":" off on the order.","applicable_on":"","active":true},{"id":3667,"start_date":"2014-05-17","end_date":null,"first_time":true,"type":"AmountDiscount","promo":false,"badge":"$10.00","title":" off on orders_more than $55","applicable_on":"","active":true},{"id":3679,"start_date":"2014-05-23","end_date":"2014-05-26","first_time":false,"type":"AmountDiscount","promo":false,"badge":"$5.00","title":" off on orders_more than $50","applicable_on":"Sun, Mon, Fri, Sat with  delivery by conshymenus.com only","active":false},{"id":3680,"start_date":"2014-05-21","end_date":null,"first_time":false,"type":"AmountDiscount","promo":true,"badge":"$4.00","title":" off on the order.","applicable_on":"","active":true},{"id":1500,"start_date":"2014-06-16","end_date":"2014-06-30","first_time":true,"type":"AmountDiscount","promo":false,"badge":"$5.00","title":" off on orders_more than $40","applicable_on":"","active":false},{"id":3737,"start_date":"2014-06-13","end_date":"2014-06-30","first_time":false,"type":"PercentDiscount","promo":false,"badge":"20%","title":" off on orders_more than $20","applicable_on":"Mon, Tue, Wed, Thu","active":false},{"id":3811,"start_date":"2014-06-19","end_date":"2014-06-30","first_time":true,"type":"PercentDiscount","promo":false,"badge":"75%","title":" off on orders_more than $200","applicable_on":"Mon, Tue, Wed, Thu, Fri with pickup only","active":false},{"id":3812,"start_date":"2014-06-19","end_date":"2014-08-19","first_time":false,"type":"PercentDiscount","promo":false,"badge":"22%","title":" off on orders_more than $22","applicable_on":"Sun, Fri, Sat","active":false},{"id":3818,"start_date":"2014-06-27","end_date":"2014-06-30","first_time":true,"type":"PercentDiscount","promo":false,"badge":"20%","title":" off on orders_more than $75","applicable_on":"Mon, Tue, Wed, Thu, Fri with  delivery by conshymenus.com only","active":false},{"id":3834,"start_date":"2014-06-26","end_date":"2014-07-31","first_time":false,"type":"AmountDiscount","promo":false,"badge":"$10.00","title":" off on orders_more than $100","applicable_on":"","active":false},{"id":3870,"start_date":"2014-07-17","end_date":"2014-08-17","first_time":false,"type":"AmountDiscount","promo":false,"badge":"$25.00","title":" off on orders_more than $100","applicable_on":"with  delivery by conshymenus.com only","active":false},{"id":4001,"start_date":"2014-07-21","end_date":"2014-07-31","first_time":true,"type":"PercentDiscount","promo":false,"badge":"10%","title":" off on orders_more than $100","applicable_on":"Mon, Tue, Wed, Thu, Fri with pickup only","active":false},{"id":4130,"start_date":"2014-09-03","end_date":"2014-09-03","first_time":false,"type":"PercentDiscount","promo":true,"badge":"10%","title":" off on orders_more than $50","applicable_on":"Wed with pickup only","active":false},{"id":4963,"start_date":"2015-01-01","end_date":"2015-01-01","first_time":false,"type":"AmountDiscount","promo":false,"badge":"$20.66","title":" off on the order.","applicable_on":"","active":false}],"events":[{"id":235,"name":"Happy Hour: Mon thru Fri","description":"Enjoy 1/2 price off appetizers from 5:00 pm - 7:00 pm every day from Mon - Fri.","start_date":"2009-07-18","end_date":null,"active":true,"picture":{"active":true,"id":25633,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/633/medium/happy-hour.jpg?1401266082","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/633/thumb/happy-hour.jpg?1401266082","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/633/tiny/happy-hour.jpg?1401266082"}},{"id":254,"name":"Traditional Irish Sessions","description":"Come and enjoy traditional Irish music sessions first Sunday of every month from 3:30 pm - 7:30 pm.","start_date":"2009-07-28","end_date":null,"active":true,"picture":{"active":true,"id":25634,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/634/medium/irish-music.jpg?1401266095","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/634/thumb/irish-music.jpg?1401266095","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/634/tiny/irish-music.jpg?1401266095"}},{"id":255,"name":"Live Music Thu, Fri & Sat","description":"Enjoy live music at our restaurant every Thu, Fri & Sat night. Check out the calendar of bands on our website.","start_date":"2009-07-28","end_date":null,"active":true,"picture":{"active":true,"id":25635,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/medium/live-music.jpg?1401266611","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/thumb/live-music.jpg?1401266611","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/tiny/live-music.jpg?1401266611"}},{"id":256,"name":"Quizzo every Wednesday","description":"Check your brain power with our Quizzo night every Wednesday from 9:00 pm - 11:00 pm.\r\n\r\nTop 2 finishing teams win exciting prizes.","start_date":"2009-07-28","end_date":null,"active":true,"picture":{"active":true,"id":25636,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/636/medium/quizzo.jpg?1401266625","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/636/thumb/quizzo.jpg?1401266625","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/636/tiny/quizzo.jpg?1401266625"}},{"id":234,"name":"Monday: Kids eat free; Sat & Sun: Kid's eat for a $1.00","description":"Monday: Kids eat free with purchase of each adult entree.\n\nSat & Sun: Kids eat for a $1.00 from 11:00 - 3:00. \n","start_date":"2009-07-18","end_date":null,"active":true,"picture":{"active":true,"id":25527,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/527/medium/kids.jpg?1400686891","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/527/thumb/kids.jpg?1400686891","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/527/tiny/kids.jpg?1400686891"}},{"id":598,"name":"tesst","description":"lorem","start_date":"2014-09-10","end_date":null,"active":true,"picture":{"active":true,"id":25635,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/medium/live-music.jpg?1401266611","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/thumb/live-music.jpg?1401266611","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/tiny/live-music.jpg?1401266611"}},{"id":630,"name":"Testing","description":"Some description","start_date":"2014-10-03","end_date":null,"active":true,"picture":{"active":false}}],"timezone":{"name":"Eastern Time (US & Canada)","offset":-300},"logo":{"active":true,"id":1816,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/001/816/xlarge/happy_hour_logo_cropped2.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/001/816/medium/happy_hour_logo_cropped2.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/001/816/thumb/happy_hour_logo_cropped2.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/001/816/tiny/happy_hour_logo_cropped2.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/001/816/original/happy_hour_logo_cropped2.jpg"},"amenities":"Online Orders, Cocktail, Late Night, Coupons, Delivery, (Mon - Thu) Dinner Delivery Only, Carry Out, Pick Up","cuisines":"Pizza, Seafood, Continental","address":{},"hours_of_operation":{"info":"<strong>Sun - Sat</strong>: 10:00am  - 11:30pm <br/>","days":{"Sun":["10:00-23:30"],"Mon":["10:00-23:30"],"Tue":["10:00-23:30"],"Wed":["10:00-23:30"],"Thu":["10:00-23:30"],"Fri":["10:00-23:30"],"Sat":["10:00-23:30"]},"machine":[[[600,1410]],[[600,1410]],[[600,1410]],[[600,1410]],[[600,1410]],[[600,1410]],[[600,1410]]]},"messages":{},"localization_resource_url":"http://api.biznettechnologies.com/v3/menu_localizations/en.json?v=0.6021780409387718","menus_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/menus.json","menu_messages":[],"gallery":[{"active":true,"id":26463,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/463/xlarge/Depositphotos_24483089_original.jpg?1404375948","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/463/medium/Depositphotos_24483089_original.jpg?1404375948","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/463/thumb/Depositphotos_24483089_original.jpg?1404375948"},{"active":true,"id":26455,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/455/xlarge/Depositphotos_4565310_original.jpg?1404375768","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/455/medium/Depositphotos_4565310_original.jpg?1404375768","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/455/thumb/Depositphotos_4565310_original.jpg?1404375768"},{"active":true,"id":26456,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/456/xlarge/Depositphotos_4565530_original.jpg?1404375794","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/456/medium/Depositphotos_4565530_original.jpg?1404375794","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/456/thumb/Depositphotos_4565530_original.jpg?1404375794"},{"active":true,"id":26467,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/467/xlarge/Depositphotos_37750405_original.jpg?1404376033","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/467/medium/Depositphotos_37750405_original.jpg?1404376033","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/467/thumb/Depositphotos_37750405_original.jpg?1404376033"},{"active":true,"id":26457,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/457/xlarge/Depositphotos_5576355_original.jpg?1404375815","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/457/medium/Depositphotos_5576355_original.jpg?1404375815","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/457/thumb/Depositphotos_5576355_original.jpg?1404375815"},{"active":true,"id":26458,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/458/xlarge/Depositphotos_8633052_original.jpg?1404375843","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/458/medium/Depositphotos_8633052_original.jpg?1404375843","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/458/thumb/Depositphotos_8633052_original.jpg?1404375843"},{"active":true,"id":26459,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/459/xlarge/Depositphotos_9131571_original.jpg?1404375868","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/459/medium/Depositphotos_9131571_original.jpg?1404375868","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/459/thumb/Depositphotos_9131571_original.jpg?1404375868"},{"active":true,"id":26460,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/460/xlarge/Depositphotos_13998000_original.jpg?1404375888","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/460/medium/Depositphotos_13998000_original.jpg?1404375888","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/460/thumb/Depositphotos_13998000_original.jpg?1404375888"},{"active":true,"id":26461,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/461/xlarge/Depositphotos_23476204_original.jpg?1404375908","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/461/medium/Depositphotos_23476204_original.jpg?1404375908","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/461/thumb/Depositphotos_23476204_original.jpg?1404375908"},{"active":true,"id":26462,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/462/xlarge/Depositphotos_23507329_original.jpg?1404375928","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/462/medium/Depositphotos_23507329_original.jpg?1404375928","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/462/thumb/Depositphotos_23507329_original.jpg?1404375928"},{"active":true,"id":26464,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/464/xlarge/Depositphotos_25037853_original.jpg?1404375969","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/464/medium/Depositphotos_25037853_original.jpg?1404375969","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/464/thumb/Depositphotos_25037853_original.jpg?1404375969"},{"active":true,"id":26465,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/465/xlarge/Depositphotos_28101907_xl.jpg?1404375991","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/465/medium/Depositphotos_28101907_xl.jpg?1404375991","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/465/thumb/Depositphotos_28101907_xl.jpg?1404375991"},{"active":true,"id":26466,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/466/xlarge/Depositphotos_34843445_original.jpg?1404376011","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/466/medium/Depositphotos_34843445_original.jpg?1404376011","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/466/thumb/Depositphotos_34843445_original.jpg?1404376011"},{"active":true,"id":26468,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/468/xlarge/Depositphotos_47792617_original.jpg?1404376056","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/468/medium/Depositphotos_47792617_original.jpg?1404376056","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/468/thumb/Depositphotos_47792617_original.jpg?1404376056"},{"active":true,"id":33245,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/245/xlarge/featured.jpg?1421244157","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/245/medium/featured.jpg?1421244157","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/245/thumb/featured.jpg?1421244157"},{"active":true,"id":33240,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/240/xlarge/about.jpg?1421243715","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/240/medium/about.jpg?1421243715","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/240/thumb/about.jpg?1421243715"},{"active":true,"id":33244,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/244/xlarge/welcome.jpg?1421243779","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/244/medium/welcome.jpg?1421243779","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/244/thumb/welcome.jpg?1421243779"},{"active":true,"id":33236,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/236/xlarge/cover.jpg?1421230137","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/236/medium/cover.jpg?1421230137","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/236/thumb/cover.jpg?1421230137"},{"active":true,"id":33242,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/242/xlarge/events.jpg?1421243736","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/242/medium/events.jpg?1421243736","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/242/thumb/events.jpg?1421243736"}],"images":[],"collaborations":{"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/collaborations.json"},"orders":{"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/orders.json"},"links":[{"name":"self","methods":["get"],"url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant.json"},{"name":"carts","methods":["post"],"url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/carts.json"},{"name":"integrations","methods":["get"],"url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/integrations.json"}]}}
W, [2018-05-21T14:58:00.033759 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.033811 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.033831 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
    When I check if restaurant "demorestaurant" exists # features/step_definitions/restaurant_steps.rb:18
    Then I should get success response                 # features/step_definitions/base_steps.rb:1

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/notfound.json
 ***** Zuppler Request: {:body=>{}, :headers=>{}}
 ***** Zuppler Response: {"success":false,"error":{"code":404,"name":"not found","message":"ActiveRecord::RecordNotFound"}}
    When I check if restaurant "notfound" exists       # features/step_definitions/restaurant_steps.rb:18
    Then I should get failed response                  # features/step_definitions/base_steps.rb:4

  @vcr
  Scenario: Update restaurant                             # features/restaurant.feature:30
    Given Zuppler configured with "zuppler" and "abcd"    # features/step_definitions/initialization_steps.rb:18

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant.json
 ***** Zuppler Request: {:body=>{:restaurant=>{"name"=>"demo"}}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"restaurant":{"id":242,"name":"demo","permalink":"demorestaurant","locale":"en","welcome_message":"If you would like to place a delivery order, select the delivery address as 1500 Market Street, Philadelphia PA.  \n\nWe are the best.\n","locations":[{"id":4239,"name":"730 E Elm Street, Conshohocken","address":"730 E Elm Street, Conshohocken, PA 19428","geo":{"lat":"40.074143","lng":"-75.292784"}}],"loyalty_services":[{"id":1,"settings":{"businessid":"chickensaladchick","pos_id":"8"},"type":"Restaurant::LoyalTreeService"}],"configuration":{"require_cross_street":false,"hide_comments":false,"sold_out":true,"ordering_paused":true,"disable_group_ordering":false,"disable_quantity":null,"catering":false,"napkins":true,"extra_fields":"set(label: \"Send a Gift\", name: \"Gift Options\")\n          date(birthday_date, name: \"Date\", label: \"Date\", dateFormat: \"d\", observe: \"zuppler.cart.settings.time.value\", observeDateFormat: \"yyyy-MM-dd HH:mm\")\n          text(gift_recipent_name, name: \"Gift Recipient Name\", label: \"Gift Recipent Name\")\n          text(gift_recipent_phone, name: \"Gift Recipient Phone\", label: \"Gift Recipent Phone\")\n          area(gift_special_message, name: \"Special Message\", label: \"Special Message\", rows: 3, note: \"Enter a special message to attach with the gift....\")\n          choices(occassion, name: \"What is the Occassion?\", label: \"Occassion\", values: [\"Birthday\", \"Anniversary\", \"Get Well Soon\", \"Simply because they are special\"], required)\n        endset\n\n        set(name: \"Allergies\", label: \"Allergies?\")\n          yesno(nut_allergies, label: \"Nut allergies\", name: \"Do you have any nut allergies?\", default: \"no\")\n        endset\n\n        set(name: \"Silverware\", label: \"Plastic Silverware\")\n          choices(napkins_reloaded, name: \"Silverware\", label: \"I need\", values:[\"Fork & Knife\", \"Chopsticks\", \"Save the planet and Go Green! No, Thanks!\"], default: \"Fork & Knife\")\n\nchoices(occassion, name: \"What is the Occassion?\", label: \"Occassion\", values: [\"Birthday\", \"Anniversary\", \"Get Well Soon\", \"Simply because they are special\"], required)\n\nchoices(occassion, name: \"What is the Occassion?\", label: \"Occassion\", values: [\"Birthday\", \"Anniversary\", \"Get Well Soon\", \"Simply because they are special\"], required)\n\nchoices(occassion, name: \"What is the Occassion?\", label: \"Occassion\", values: [\"Birthday\", \"Anniversary\", \"Get Well Soon\", \"Simply because they are special\"], required)\n\n        endset\n","delivery":{"active":true,"settings":{"description":"NOTE: $3.99 DELIVERY + 15% GRATUITY FOR ORDERS UP TO $100; FREE DELIVERY + 10% GRATUITY FOR ORDERS OVER $100.","min_order":"10.0"},"contact":{"name":"demo","email":"jerry.dani@zuppler.com","phone":"18889877537","fax":"18885033658"},"rules":[]},"pickup":{"active":true,"settings":{"description":"Come to the express lane to pickup your order. Your order will be ready and waiting for you. :)","min_order":0},"contact":{"name":"Demo","email":"jerry.dani@zuppler.com","phone":"18889877537","fax":"18885033658"}},"dinein":{"active":true,"settings":{"description":"Come to the express lane to pickup your order. Your order will be ready and waiting for you. :)","min_order":0},"contact":{"name":"Demo","email":"jerry.dani@zuppler.com","phone":"18889877537","fax":"18885033658"}},"curbside":{"active":true,"settings":{"description":"Please call us when you reach the curbside lane. Please Note: You do not have to get out of your car.  We will come to you with your order.","min_order":0},"contact":{"name":"demo","email":"","phone":"8883917107","fax":""}},"payments":{"credit_card":true,"credit_card_on_delivery":true,"cash":true,"custom":"secret"},"taxes":{"service_charge":5.0,"sales":7.0}},"discounts":[{"id":5408,"start_date":"2015-08-26","end_date":null,"first_time":true,"type":"PercentDiscount","promo":true,"badge":"10%","title":" off on orders_more than $100","applicable_on":"","active":true},{"id":5407,"start_date":"2015-07-22","end_date":null,"first_time":false,"type":"AmountDiscount","promo":false,"badge":"$10.00","title":" off on orders_more than $50","applicable_on":"","active":true},{"id":5406,"start_date":"2015-07-22","end_date":null,"first_time":false,"type":"PercentDiscount","promo":false,"badge":"10%","title":" off on orders_more than $100","applicable_on":"","active":true},{"id":5405,"start_date":"2015-07-22","end_date":null,"first_time":false,"type":"PercentDiscount","promo":false,"badge":"10%","title":" off on orders_more than $50","applicable_on":"","active":true},{"id":5371,"start_date":"2015-02-26","end_date":"2015-07-01","first_time":false,"type":"AmountDiscount","promo":true,"badge":"$11.00","title":" off on the order.","applicable_on":"","active":false},{"id":5404,"start_date":"2015-05-04","end_date":null,"first_time":false,"type":"AmountDiscount","promo":true,"badge":"$15.00","title":" off on orders_more than $99","applicable_on":"","active":true},{"id":5403,"start_date":"2015-04-06","end_date":"2015-08-01","first_time":false,"type":"PercentDiscount","promo":false,"badge":"10%","title":" off on the order.","applicable_on":"","active":false},{"id":5402,"start_date":"2015-03-16","end_date":null,"first_time":false,"type":"AmountDiscount","promo":true,"badge":"$15.00","title":" off on orders_more than $99","applicable_on":"","active":true},{"id":904,"start_date":"2011-11-03","end_date":null,"first_time":true,"type":"PercentDiscount","promo":false,"badge":"20%","title":" off on orders_more than $50","applicable_on":"","active":true},{"id":5401,"start_date":"2015-03-16","end_date":null,"first_time":false,"type":"AmountDiscount","promo":true,"badge":"$15.00","title":" off on orders_more than $99","applicable_on":"","active":true},{"id":756,"start_date":"2014-04-16","end_date":"2014-04-30","first_time":false,"type":"PercentDiscount","promo":false,"badge":"15%","title":" off on orders_more than $10","applicable_on":"","active":false},{"id":1549,"start_date":"2013-02-10","end_date":null,"first_time":true,"type":"AmountDiscount","promo":true,"badge":"$5.00","title":" off on orders_more than $25","applicable_on":"Mon, Tue, Wed, Thu","active":true},{"id":2349,"start_date":"2013-09-26","end_date":"2013-09-30","first_time":false,"type":"AmountDiscount","promo":true,"badge":"$5.00","title":" off on orders_more than $30","applicable_on":"Sun, Mon, Tue, Wed, Thu with pickup only","active":false},{"id":2350,"start_date":"2013-09-26","end_date":"2013-09-30","first_time":false,"type":"AmountDiscount","promo":true,"badge":"$5.00","title":" off on orders_more than $30","applicable_on":"Sun, Mon, Tue, Wed, Thu with pickup only","active":false},{"id":2366,"start_date":"2013-10-01","end_date":null,"first_time":false,"type":"PercentDiscount","promo":true,"badge":"20%","title":" off on orders_more than $20","applicable_on":"","active":true},{"id":2367,"start_date":"2013-10-01","end_date":null,"first_time":false,"type":"PercentDiscount","promo":true,"badge":"20%","title":" off on orders_more than $20","applicable_on":"","active":true},{"id":2389,"start_date":"2013-10-09","end_date":null,"first_time":true,"type":"PercentDiscount","promo":false,"badge":"15%","title":" off on the order.","applicable_on":"","active":true},{"id":759,"start_date":"2014-03-20","end_date":"2014-03-24","first_time":false,"type":"PercentDiscount","promo":true,"badge":"20%","title":" off on orders_more than $10","applicable_on":"with pickup only","active":false},{"id":3219,"start_date":"2014-04-15","end_date":"2014-04-15","first_time":true,"type":"AmountDiscount","promo":false,"badge":"$10.00","title":" off on the order.","applicable_on":"","active":false},{"id":3229,"start_date":"2014-04-22","end_date":"2014-04-22","first_time":true,"type":"PercentDiscount","promo":false,"badge":"20%","title":" off on orders_more than $20","applicable_on":"Mon, Tue, Wed, Thu, Fri with pickup only","active":false},{"id":3240,"start_date":"2014-04-23","end_date":"2014-04-30","first_time":false,"type":"AmountDiscount","promo":false,"badge":"$10.00","title":" off on orders_more than $50","applicable_on":"Mon, Tue, Wed, Thu with  delivery by conshymenus.com only","active":false},{"id":3230,"start_date":"2014-04-22","end_date":"2014-04-30","first_time":false,"type":"AmountDiscount","promo":true,"badge":"$10.00","title":" off on orders_more than $50","applicable_on":"with  delivery by conshymenus.com only","active":false},{"id":3284,"start_date":"2014-05-08","end_date":"2014-05-15","first_time":false,"type":"PercentDiscount","promo":false,"badge":"25%","title":" off on orders_more than $100","applicable_on":"Mon, Tue, Wed, Thu with pickup only","active":false},{"id":3292,"start_date":"2014-05-11","end_date":null,"first_time":false,"type":"PercentDiscount","promo":true,"badge":"12%","title":" off on orders_more than $10","applicable_on":"","active":true},{"id":3294,"start_date":"2014-05-12","end_date":"2014-05-19","first_time":false,"type":"PercentDiscount","promo":false,"badge":"10%","title":" off on orders_more than $40","applicable_on":"Mon, Tue, Wed, Thu, Fri with pickup only","active":false},{"id":3295,"start_date":"2014-05-12","end_date":null,"first_time":false,"type":"AmountDiscount","promo":true,"badge":"$3.50","title":" off on the order.","applicable_on":"","active":true},{"id":3667,"start_date":"2014-05-17","end_date":null,"first_time":true,"type":"AmountDiscount","promo":false,"badge":"$10.00","title":" off on orders_more than $55","applicable_on":"","active":true},{"id":3679,"start_date":"2014-05-23","end_date":"2014-05-26","first_time":false,"type":"AmountDiscount","promo":false,"badge":"$5.00","title":" off on orders_more than $50","applicable_on":"Sun, Mon, Fri, Sat with  delivery by conshymenus.com only","active":false},{"id":3680,"start_date":"2014-05-21","end_date":null,"first_time":false,"type":"AmountDiscount","promo":true,"badge":"$4.00","title":" off on the order.","applicable_on":"","active":true},{"id":1500,"start_date":"2014-06-16","end_date":"2014-06-30","first_time":true,"type":"AmountDiscount","promo":false,"badge":"$5.00","title":" off on orders_more than $40","applicable_on":"","active":false},{"id":3737,"start_date":"2014-06-13","end_date":"2014-06-30","first_time":false,"type":"PercentDiscount","promo":false,"badge":"20%","title":" off on orders_more than $20","applicable_on":"Mon, Tue, Wed, Thu","active":false},{"id":3811,"start_date":"2014-06-19","end_date":"2014-06-30","first_time":true,"type":"PercentDiscount","promo":false,"badge":"75%","title":" off on orders_more than $200","applicable_on":"Mon, Tue, Wed, Thu, Fri with pickup only","active":false},{"id":3812,"start_date":"2014-06-19","end_date":"2014-08-19","first_time":false,"type":"PercentDiscount","promo":false,"badge":"22%","title":" off on orders_more than $22","applicable_on":"Sun, Fri, Sat","active":false},{"id":3818,"start_date":"2014-06-27","end_date":"2014-06-30","first_time":true,"type":"PercentDiscount","promo":false,"badge":"20%","title":" off on orders_more than $75","applicable_on":"Mon, Tue, Wed, Thu, Fri with  delivery by conshymenus.com only","active":false},{"id":3834,"start_date":"2014-06-26","end_date":"2014-07-31","first_time":false,"type":"AmountDiscount","promo":false,"badge":"$10.00","title":" off on orders_more than $100","applicable_on":"","active":false},{"id":3870,"start_date":"2014-07-17","end_date":"2014-08-17","first_time":false,"type":"AmountDiscount","promo":false,"badge":"$25.00","title":" off on orders_more than $100","applicable_on":"with  delivery by conshymenus.com only","active":false},{"id":4001,"start_date":"2014-07-21","end_date":"2014-07-31","first_time":true,"type":"PercentDiscount","promo":false,"badge":"10%","title":" off on orders_more than $100","applicable_on":"Mon, Tue, Wed, Thu, Fri with pickup only","active":false},{"id":4130,"start_date":"2014-09-03","end_date":"2014-09-03","first_time":false,"type":"PercentDiscount","promo":true,"badge":"10%","title":" off on orders_more than $50","applicable_on":"Wed with pickup only","active":false},{"id":4963,"start_date":"2015-01-01","end_date":"2015-01-01","first_time":false,"type":"AmountDiscount","promo":false,"badge":"$20.66","title":" off on the order.","applicable_on":"","active":false}],"events":[{"id":235,"name":"Happy Hour: Mon thru Fri","description":"Enjoy 1/2 price off appetizers from 5:00 pm - 7:00 pm every day from Mon - Fri.","start_date":"2009-07-18","end_date":null,"active":true,"picture":{"active":true,"id":25633,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/633/medium/happy-hour.jpg?1401266082","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/633/thumb/happy-hour.jpg?1401266082","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/633/tiny/happy-hour.jpg?1401266082"}},{"id":254,"name":"Traditional Irish Sessions","description":"Come and enjoy traditional Irish music sessions first Sunday of every month from 3:30 pm - 7:30 pm.","start_date":"2009-07-28","end_date":null,"active":true,"picture":{"active":true,"id":25634,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/634/medium/irish-music.jpg?1401266095","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/634/thumb/irish-music.jpg?1401266095","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/634/tiny/irish-music.jpg?1401266095"}},{"id":255,"name":"Live Music Thu, Fri & Sat","description":"Enjoy live music at our restaurant every Thu, Fri & Sat night. Check out the calendar of bands on our website.","start_date":"2009-07-28","end_date":null,"active":true,"picture":{"active":true,"id":25635,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/medium/live-music.jpg?1401266611","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/thumb/live-music.jpg?1401266611","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/tiny/live-music.jpg?1401266611"}},{"id":256,"name":"Quizzo every Wednesday","description":"Check your brain power with our Quizzo night every Wednesday from 9:00 pm - 11:00 pm.\r\n\r\nTop 2 finishing teams win exciting prizes.","start_date":"2009-07-28","end_date":null,"active":true,"picture":{"active":true,"id":25636,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/636/medium/quizzo.jpg?1401266625","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/636/thumb/quizzo.jpg?1401266625","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/636/tiny/quizzo.jpg?1401266625"}},{"id":234,"name":"Monday: Kids eat free; Sat & Sun: Kid's eat for a $1.00","description":"Monday: Kids eat free with purchase of each adult entree.\n\nSat & Sun: Kids eat for a $1.00 from 11:00 - 3:00. \n","start_date":"2009-07-18","end_date":null,"active":true,"picture":{"active":true,"id":25527,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/527/medium/kids.jpg?1400686891","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/527/thumb/kids.jpg?1400686891","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/527/tiny/kids.jpg?1400686891"}},{"id":598,"name":"tesst","description":"lorem","start_date":"2014-09-10","end_date":null,"active":true,"picture":{"active":true,"id":25635,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/medium/live-music.jpg?1401266611","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/thumb/live-music.jpg?1401266611","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/tiny/live-music.jpg?1401266611"}},{"id":630,"name":"Testing","description":"Some description","start_date":"2014-10-03","end_date":null,"active":true,"picture":{"active":false}}],"timezone":{"name":"Eastern Time (US & Canada)","offset":-300},"logo":{"active":true,"id":1816,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/001/816/xlarge/happy_hour_logo_cropped2.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/001/816/medium/happy_hour_logo_cropped2.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/001/816/thumb/happy_hour_logo_cropped2.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/001/816/tiny/happy_hour_logo_cropped2.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/001/816/original/happy_hour_logo_cropped2.jpg"},"amenities":"Online Orders, Cocktail, Late Night, Coupons, Delivery, (Mon - Thu) Dinner Delivery Only, Carry Out, Pick Up","cuisines":"Pizza, Seafood, Continental","address":{},"hours_of_operation":{"info":"<strong>Sun - Sat</strong>: 10:00am  - 11:30pm <br/>","days":{"Sun":["10:00-23:30"],"Mon":["10:00-23:30"],"Tue":["10:00-23:30"],"Wed":["10:00-23:30"],"Thu":["10:00-23:30"],"Fri":["10:00-23:30"],"Sat":["10:00-23:30"]},"machine":[[[600,1410]],[[600,1410]],[[600,1410]],[[600,1410]],[[600,1410]],[[600,1410]],[[600,1410]]]},"messages":{},"localization_resource_url":"http://api.biznettechnologies.com/v3/menu_localizations/en.json?v=0.6021780409387718","menus_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/menus.json","menu_messages":[],"gallery":[{"active":true,"id":26463,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/463/xlarge/Depositphotos_24483089_original.jpg?1404375948","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/463/medium/Depositphotos_24483089_original.jpg?1404375948","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/463/thumb/Depositphotos_24483089_original.jpg?1404375948"},{"active":true,"id":26455,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/455/xlarge/Depositphotos_4565310_original.jpg?1404375768","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/455/medium/Depositphotos_4565310_original.jpg?1404375768","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/455/thumb/Depositphotos_4565310_original.jpg?1404375768"},{"active":true,"id":26456,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/456/xlarge/Depositphotos_4565530_original.jpg?1404375794","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/456/medium/Depositphotos_4565530_original.jpg?1404375794","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/456/thumb/Depositphotos_4565530_original.jpg?1404375794"},{"active":true,"id":26467,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/467/xlarge/Depositphotos_37750405_original.jpg?1404376033","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/467/medium/Depositphotos_37750405_original.jpg?1404376033","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/467/thumb/Depositphotos_37750405_original.jpg?1404376033"},{"active":true,"id":26457,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/457/xlarge/Depositphotos_5576355_original.jpg?1404375815","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/457/medium/Depositphotos_5576355_original.jpg?1404375815","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/457/thumb/Depositphotos_5576355_original.jpg?1404375815"},{"active":true,"id":26458,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/458/xlarge/Depositphotos_8633052_original.jpg?1404375843","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/458/medium/Depositphotos_8633052_original.jpg?1404375843","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/458/thumb/Depositphotos_8633052_original.jpg?1404375843"},{"active":true,"id":26459,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/459/xlarge/Depositphotos_9131571_original.jpg?1404375868","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/459/medium/Depositphotos_9131571_original.jpg?1404375868","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/459/thumb/Depositphotos_9131571_original.jpg?1404375868"},{"active":true,"id":26460,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/460/xlarge/Depositphotos_13998000_original.jpg?1404375888","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/460/medium/Depositphotos_13998000_original.jpg?1404375888","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/460/thumb/Depositphotos_13998000_original.jpg?1404375888"},{"active":true,"id":26461,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/461/xlarge/Depositphotos_23476204_original.jpg?1404375908","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/461/medium/Depositphotos_23476204_original.jpg?1404375908","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/461/thumb/Depositphotos_23476204_original.jpg?1404375908"},{"active":true,"id":26462,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/462/xlarge/Depositphotos_23507329_original.jpg?1404375928","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/462/medium/Depositphotos_23507329_original.jpg?1404375928","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/462/thumb/Depositphotos_23507329_original.jpg?1404375928"},{"active":true,"id":26464,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/464/xlarge/Depositphotos_25037853_original.jpg?1404375969","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/464/medium/Depositphotos_25037853_original.jpg?1404375969","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/464/thumb/Depositphotos_25037853_original.jpg?1404375969"},{"active":true,"id":26465,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/465/xlarge/Depositphotos_28101907_xl.jpg?1404375991","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/465/medium/Depositphotos_28101907_xl.jpg?1404375991","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/465/thumb/Depositphotos_28101907_xl.jpg?1404375991"},{"active":true,"id":26466,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/466/xlarge/Depositphotos_34843445_original.jpg?1404376011","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/466/medium/Depositphotos_34843445_original.jpg?1404376011","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/466/thumb/Depositphotos_34843445_original.jpg?1404376011"},{"active":true,"id":26468,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/468/xlarge/Depositphotos_47792617_original.jpg?1404376056","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/468/medium/Depositphotos_47792617_original.jpg?1404376056","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/468/thumb/Depositphotos_47792617_original.jpg?1404376056"},{"active":true,"id":33245,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/245/xlarge/featured.jpg?1421244157","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/245/medium/featured.jpg?1421244157","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/245/thumb/featured.jpg?1421244157"},{"active":true,"id":33240,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/240/xlarge/about.jpg?1421243715","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/240/medium/about.jpg?1421243715","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/240/thumb/about.jpg?1421243715"},{"active":true,"id":33244,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/244/xlarge/welcome.jpg?1421243779","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/244/medium/welcome.jpg?1421243779","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/244/thumb/welcome.jpg?1421243779"},{"active":true,"id":33236,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/236/xlarge/cover.jpg?1421230137","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/236/medium/cover.jpg?1421230137","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/236/thumb/cover.jpg?1421230137"},{"active":true,"id":33242,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/242/xlarge/events.jpg?1421243736","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/242/medium/events.jpg?1421243736","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/242/thumb/events.jpg?1421243736"}],"images":[],"collaborations":{"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/collaborations.json"},"orders":{"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/orders.json"},"links":[{"name":"self","methods":["get"],"url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant.json"},{"name":"carts","methods":["post"],"url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/carts.json"},{"name":"integrations","methods":["get"],"url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/integrations.json"}]}}
    When I update restaurant "demorestaurant" with "demo" # features/step_definitions/restaurant_steps.rb:13
    Then I should have "demorestaurant" restaurant        # features/step_definitions/restaurant_steps.rb:38

  @vcr
  Scenario: Show restaurant                              # features/restaurant.feature:36
    Given Zuppler configured with "zuppler" and "qwe123" # features/step_definitions/initialization_steps.rb:18
    When I find restaurant "demorestaurant"              # features/step_definitions/restaurant_steps.rb:10

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant.json
 ***** Zuppler Request: {:body=>{}, :headers=>{}}
 ***** Zuppler Response: {"success":true,"restaurant":{"id":242,"name":"Demo Restaurant","permalink":"demorestaurant","locale":"en","welcome_message":"If you would like to place a delivery order, select the delivery address as 1500 Market Street, Philadelphia PA.  \n\nWe are the best.\n","locations":[{"id":4239,"name":"730 E Elm Street, Conshohocken","address":"730 E Elm Street, Conshohocken, PA 19428","geo":{"lat":"40.074143","lng":"-75.292784"}}],"loyalty_services":[{"id":1,"settings":{"businessid":"chickensaladchick","pos_id":"8"},"type":"Restaurant::LoyalTreeService"}],"configuration":{"require_cross_street":false,"hide_comments":false,"sold_out":true,"ordering_paused":false,"disable_group_ordering":false,"disable_quantity":null,"catering":false,"napkins":true,"delivery":{"active":true,"settings":{"description":"NOTE: $3.99 DELIVERY + 15% GRATUITY FOR ORDERS UP TO $100; FREE DELIVERY + 10% GRATUITY FOR ORDERS OVER $100.","min_order":"10.0"},"contact":{"name":"demo","email":"jerry.dani@zuppler.com","phone":"18889877537","fax":"18885033658"},"rules":[]},"pickup":{"active":true,"settings":{"description":"Come to the express lane to pickup your order. Your order will be ready and waiting for you. :)","min_order":0},"contact":{"name":"Demo","email":"jerry.dani@zuppler.com","phone":"18889877537","fax":"18885033658"}},"dinein":{"active":true,"settings":{"description":"Come to the express lane to pickup your order. Your order will be ready and waiting for you. :)","min_order":0},"contact":{"name":"Demo","email":"jerry.dani@zuppler.com","phone":"18889877537","fax":"18885033658"}},"curbside":{"active":true,"settings":{"description":"Please call us when you reach the curbside lane. Please Note: You do not have to get out of your car.  We will come to you with your order.","min_order":0},"contact":{"name":"demo","email":"","phone":"8883917107","fax":""}},"payments":{"credit_card":true,"credit_card_on_delivery":true,"cash":true,"custom":"secret"},"taxes":{"service_charge":5.0,"sales":7.0}},"discounts":[{"id":5404,"start_date":"2015-05-04","end_date":null,"first_time":false,"type":"AmountDiscount","promo":true,"badge":"$15.00","title":" off on orders more than $99","applicable_on":"","active":true},{"id":5403,"start_date":"2015-04-06","end_date":null,"first_time":false,"type":"PercentDiscount","promo":false,"badge":"10%","title":" off on the order.","applicable_on":"","active":true},{"id":5402,"start_date":"2015-03-16","end_date":null,"first_time":false,"type":"AmountDiscount","promo":true,"badge":"$15.00","title":" off on orders more than $99","applicable_on":"","active":true},{"id":904,"start_date":"2011-11-03","end_date":null,"first_time":true,"type":"PercentDiscount","promo":false,"badge":"20%","title":" off on orders more than $50","applicable_on":"","active":true},{"id":5401,"start_date":"2015-03-16","end_date":null,"first_time":false,"type":"AmountDiscount","promo":true,"badge":"$15.00","title":" off on orders more than $99","applicable_on":"","active":true},{"id":756,"start_date":"2014-04-16","end_date":"2014-04-30","first_time":false,"type":"PercentDiscount","promo":false,"badge":"15%","title":" off on orders more than $10","applicable_on":"","active":false},{"id":1549,"start_date":"2013-02-10","end_date":null,"first_time":true,"type":"AmountDiscount","promo":true,"badge":"$5.00","title":" off on orders more than $25","applicable_on":"Mon, Tue, Wed, Thu","active":true},{"id":2349,"start_date":"2013-09-26","end_date":"2013-09-30","first_time":false,"type":"AmountDiscount","promo":true,"badge":"$5.00","title":" off on orders more than $30","applicable_on":"Sun, Mon, Tue, Wed, Thu with pickup only","active":false},{"id":2350,"start_date":"2013-09-26","end_date":"2013-09-30","first_time":false,"type":"AmountDiscount","promo":true,"badge":"$5.00","title":" off on orders more than $30","applicable_on":"Sun, Mon, Tue, Wed, Thu with pickup only","active":false},{"id":2366,"start_date":"2013-10-01","end_date":null,"first_time":false,"type":"PercentDiscount","promo":true,"badge":"20%","title":" off on orders more than $20","applicable_on":"","active":true},{"id":2367,"start_date":"2013-10-01","end_date":null,"first_time":false,"type":"PercentDiscount","promo":true,"badge":"20%","title":" off on orders more than $20","applicable_on":"","active":true},{"id":2389,"start_date":"2013-10-09","end_date":null,"first_time":true,"type":"PercentDiscount","promo":false,"badge":"15%","title":" off on the order.","applicable_on":"","active":true},{"id":759,"start_date":"2014-03-20","end_date":"2014-03-24","first_time":false,"type":"PercentDiscount","promo":true,"badge":"20%","title":" off on orders more than $10","applicable_on":"with pickup only","active":false},{"id":3219,"start_date":"2014-04-15","end_date":"2014-04-15","first_time":true,"type":"AmountDiscount","promo":false,"badge":"$10.00","title":" off on the order.","applicable_on":"","active":false},{"id":3229,"start_date":"2014-04-22","end_date":"2014-04-22","first_time":true,"type":"PercentDiscount","promo":false,"badge":"20%","title":" off on orders more than $20","applicable_on":"Mon, Tue, Wed, Thu, Fri with pickup only","active":false},{"id":3240,"start_date":"2014-04-23","end_date":"2014-04-30","first_time":false,"type":"AmountDiscount","promo":false,"badge":"$10.00","title":" off on orders more than $50","applicable_on":"Mon, Tue, Wed, Thu with delivery only","active":false},{"id":3230,"start_date":"2014-04-22","end_date":"2014-04-30","first_time":false,"type":"AmountDiscount","promo":true,"badge":"$10.00","title":" off on orders more than $50","applicable_on":"with delivery only","active":false},{"id":3284,"start_date":"2014-05-08","end_date":"2014-05-15","first_time":false,"type":"PercentDiscount","promo":false,"badge":"25%","title":" off on orders more than $100","applicable_on":"Mon, Tue, Wed, Thu with pickup only","active":false},{"id":3292,"start_date":"2014-05-11","end_date":null,"first_time":false,"type":"PercentDiscount","promo":true,"badge":"12%","title":" off on orders more than $10","applicable_on":"","active":true},{"id":3294,"start_date":"2014-05-12","end_date":"2014-05-19","first_time":false,"type":"PercentDiscount","promo":false,"badge":"10%","title":" off on orders more than $40","applicable_on":"Mon, Tue, Wed, Thu, Fri with pickup only","active":false},{"id":3295,"start_date":"2014-05-12","end_date":null,"first_time":false,"type":"AmountDiscount","promo":true,"badge":"$3.50","title":" off on the order.","applicable_on":"","active":true},{"id":3667,"start_date":"2014-05-17","end_date":null,"first_time":true,"type":"AmountDiscount","promo":false,"badge":"$10.00","title":" off on orders more than $55","applicable_on":"","active":true},{"id":3679,"start_date":"2014-05-23","end_date":"2014-05-26","first_time":false,"type":"AmountDiscount","promo":false,"badge":"$5.00","title":" off on orders more than $50","applicable_on":"Sun, Mon, Fri, Sat with delivery only","active":false},{"id":3680,"start_date":"2014-05-21","end_date":null,"first_time":false,"type":"AmountDiscount","promo":true,"badge":"$4.00","title":" off on the order.","applicable_on":"","active":true},{"id":1500,"start_date":"2014-06-16","end_date":"2014-06-30","first_time":true,"type":"AmountDiscount","promo":false,"badge":"$5.00","title":" off on orders more than $40","applicable_on":"","active":false},{"id":3737,"start_date":"2014-06-13","end_date":"2014-06-30","first_time":false,"type":"PercentDiscount","promo":false,"badge":"20%","title":" off on orders more than $20","applicable_on":"Mon, Tue, Wed, Thu","active":false},{"id":3811,"start_date":"2014-06-19","end_date":"2014-06-30","first_time":true,"type":"PercentDiscount","promo":false,"badge":"75%","title":" off on orders more than $200","applicable_on":"Mon, Tue, Wed, Thu, Fri with pickup only","active":false},{"id":3812,"start_date":"2014-06-19","end_date":"2014-08-19","first_time":false,"type":"PercentDiscount","promo":false,"badge":"22%","title":" off on orders more than $22","applicable_on":"Sun, Fri, Sat","active":false},{"id":3818,"start_date":"2014-06-27","end_date":"2014-06-30","first_time":true,"type":"PercentDiscount","promo":false,"badge":"20%","title":" off on orders more than $75","applicable_on":"Mon, Tue, Wed, Thu, Fri with delivery only","active":false},{"id":3834,"start_date":"2014-06-26","end_date":"2014-07-31","first_time":false,"type":"AmountDiscount","promo":false,"badge":"$10.00","title":" off on orders more than $100","applicable_on":"","active":false},{"id":3870,"start_date":"2014-07-17","end_date":"2014-08-17","first_time":false,"type":"AmountDiscount","promo":false,"badge":"$25.00","title":" off on orders more than $100","applicable_on":"with delivery only","active":false},{"id":4001,"start_date":"2014-07-21","end_date":"2014-07-31","first_time":true,"type":"PercentDiscount","promo":false,"badge":"10%","title":" off on orders more than $100","applicable_on":"Mon, Tue, Wed, Thu, Fri with pickup only","active":false},{"id":4130,"start_date":"2014-09-03","end_date":"2014-09-03","first_time":false,"type":"PercentDiscount","promo":true,"badge":"10%","title":" off on orders more than $50","applicable_on":"Wed with pickup only","active":false},{"id":4963,"start_date":"2015-01-01","end_date":"2015-01-01","first_time":false,"type":"AmountDiscount","promo":false,"badge":"$20.66","title":" off on the order.","applicable_on":"","active":false},{"id":5371,"start_date":"2015-02-26","end_date":null,"first_time":false,"type":"AmountDiscount","promo":true,"badge":"$11.00","title":" off on the order.","applicable_on":"","active":true}],"events":[{"id":235,"name":"Happy Hour: Mon thru Fri","description":"Enjoy 1/2 price off appetizers from 5:00 pm - 7:00 pm every day from Mon - Fri.","start_date":"2009-07-18","end_date":null,"active":true,"picture":{"active":true,"id":25633,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/633/medium/happy-hour.jpg?1401266082","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/633/thumb/happy-hour.jpg?1401266082","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/633/tiny/happy-hour.jpg?1401266082"}},{"id":254,"name":"Traditional Irish Sessions","description":"Come and enjoy traditional Irish music sessions first Sunday of every month from 3:30 pm - 7:30 pm.","start_date":"2009-07-28","end_date":null,"active":true,"picture":{"active":true,"id":25634,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/634/medium/irish-music.jpg?1401266095","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/634/thumb/irish-music.jpg?1401266095","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/634/tiny/irish-music.jpg?1401266095"}},{"id":255,"name":"Live Music Thu, Fri & Sat","description":"Enjoy live music at our restaurant every Thu, Fri & Sat night. Check out the calendar of bands on our website.","start_date":"2009-07-28","end_date":null,"active":true,"picture":{"active":true,"id":25635,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/medium/live-music.jpg?1401266611","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/thumb/live-music.jpg?1401266611","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/tiny/live-music.jpg?1401266611"}},{"id":256,"name":"Quizzo every Wednesday","description":"Check your brain power with our Quizzo night every Wednesday from 9:00 pm - 11:00 pm.\r\n\r\nTop 2 finishing teams win exciting prizes.","start_date":"2009-07-28","end_date":null,"active":true,"picture":{"active":true,"id":25636,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/636/medium/quizzo.jpg?1401266625","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/636/thumb/quizzo.jpg?1401266625","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/636/tiny/quizzo.jpg?1401266625"}},{"id":234,"name":"Monday: Kids eat free; Sat & Sun: Kid's eat for a $1.00","description":"Monday: Kids eat free with purchase of each adult entree.\n\nSat & Sun: Kids eat for a $1.00 from 11:00 - 3:00. \n","start_date":"2009-07-18","end_date":null,"active":true,"picture":{"active":true,"id":25527,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/527/medium/kids.jpg?1400686891","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/527/thumb/kids.jpg?1400686891","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/527/tiny/kids.jpg?1400686891"}},{"id":598,"name":"tesst","description":"lorem","start_date":"2014-09-10","end_date":null,"active":true,"picture":{"active":true,"id":25635,"medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/medium/live-music.jpg?1401266611","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/thumb/live-music.jpg?1401266611","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/025/635/tiny/live-music.jpg?1401266611"}},{"id":630,"name":"Testing","description":"Some description","start_date":"2014-10-03","end_date":null,"active":true,"picture":{"active":false}}],"timezone":{"name":"Eastern Time (US & Canada)","offset":-240},"logo":{"active":true,"id":1816,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/001/816/xlarge/happy_hour_logo_cropped2.jpg","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/001/816/medium/happy_hour_logo_cropped2.jpg","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/001/816/thumb/happy_hour_logo_cropped2.jpg","tiny":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/001/816/tiny/happy_hour_logo_cropped2.jpg","original":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/001/816/original/happy_hour_logo_cropped2.jpg"},"amenities":"Online Orders, Cocktail, Late Night, Coupons, Delivery, (Mon - Thu) Dinner Delivery Only, Carry Out, Pick Up","cuisines":"Pizza, Seafood, Continental","address":{},"hours_of_operation":{"info":"<strong>Sun - Sat</strong>: 10:00am  - 9:30pm <br/>","days":{"Sun":["10:00-21:30"],"Mon":["10:00-21:30"],"Tue":["10:00-21:30"],"Wed":["10:00-21:30"],"Thu":["10:00-21:30"],"Fri":["10:00-21:30"],"Sat":["10:00-21:30"]},"machine":[[[600,1290]],[[600,1290]],[[600,1290]],[[600,1290]],[[600,1290]],[[600,1290]],[[600,1290]]]},"messages":{},"localization_resource_url":"http://api.biznettechnologies.com/v3/menu_localizations/en.json","menus_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/menus.json","menu_messages":[],"gallery":[{"active":true,"id":26463,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/463/xlarge/Depositphotos_24483089_original.jpg?1404375948","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/463/medium/Depositphotos_24483089_original.jpg?1404375948","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/463/thumb/Depositphotos_24483089_original.jpg?1404375948"},{"active":true,"id":26455,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/455/xlarge/Depositphotos_4565310_original.jpg?1404375768","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/455/medium/Depositphotos_4565310_original.jpg?1404375768","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/455/thumb/Depositphotos_4565310_original.jpg?1404375768"},{"active":true,"id":26456,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/456/xlarge/Depositphotos_4565530_original.jpg?1404375794","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/456/medium/Depositphotos_4565530_original.jpg?1404375794","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/456/thumb/Depositphotos_4565530_original.jpg?1404375794"},{"active":true,"id":26467,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/467/xlarge/Depositphotos_37750405_original.jpg?1404376033","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/467/medium/Depositphotos_37750405_original.jpg?1404376033","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/467/thumb/Depositphotos_37750405_original.jpg?1404376033"},{"active":true,"id":26457,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/457/xlarge/Depositphotos_5576355_original.jpg?1404375815","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/457/medium/Depositphotos_5576355_original.jpg?1404375815","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/457/thumb/Depositphotos_5576355_original.jpg?1404375815"},{"active":true,"id":26458,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/458/xlarge/Depositphotos_8633052_original.jpg?1404375843","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/458/medium/Depositphotos_8633052_original.jpg?1404375843","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/458/thumb/Depositphotos_8633052_original.jpg?1404375843"},{"active":true,"id":26459,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/459/xlarge/Depositphotos_9131571_original.jpg?1404375868","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/459/medium/Depositphotos_9131571_original.jpg?1404375868","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/459/thumb/Depositphotos_9131571_original.jpg?1404375868"},{"active":true,"id":26460,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/460/xlarge/Depositphotos_13998000_original.jpg?1404375888","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/460/medium/Depositphotos_13998000_original.jpg?1404375888","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/460/thumb/Depositphotos_13998000_original.jpg?1404375888"},{"active":true,"id":26461,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/461/xlarge/Depositphotos_23476204_original.jpg?1404375908","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/461/medium/Depositphotos_23476204_original.jpg?1404375908","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/461/thumb/Depositphotos_23476204_original.jpg?1404375908"},{"active":true,"id":26462,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/462/xlarge/Depositphotos_23507329_original.jpg?1404375928","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/462/medium/Depositphotos_23507329_original.jpg?1404375928","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/462/thumb/Depositphotos_23507329_original.jpg?1404375928"},{"active":true,"id":26464,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/464/xlarge/Depositphotos_25037853_original.jpg?1404375969","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/464/medium/Depositphotos_25037853_original.jpg?1404375969","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/464/thumb/Depositphotos_25037853_original.jpg?1404375969"},{"active":true,"id":26465,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/465/xlarge/Depositphotos_28101907_xl.jpg?1404375991","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/465/medium/Depositphotos_28101907_xl.jpg?1404375991","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/465/thumb/Depositphotos_28101907_xl.jpg?1404375991"},{"active":true,"id":26466,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/466/xlarge/Depositphotos_34843445_original.jpg?1404376011","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/466/medium/Depositphotos_34843445_original.jpg?1404376011","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/466/thumb/Depositphotos_34843445_original.jpg?1404376011"},{"active":true,"id":26468,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/468/xlarge/Depositphotos_47792617_original.jpg?1404376056","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/468/medium/Depositphotos_47792617_original.jpg?1404376056","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/026/468/thumb/Depositphotos_47792617_original.jpg?1404376056"},{"active":true,"id":33245,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/245/xlarge/featured.jpg?1421244157","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/245/medium/featured.jpg?1421244157","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/245/thumb/featured.jpg?1421244157"},{"active":true,"id":33240,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/240/xlarge/about.jpg?1421243715","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/240/medium/about.jpg?1421243715","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/240/thumb/about.jpg?1421243715"},{"active":true,"id":33244,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/244/xlarge/welcome.jpg?1421243779","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/244/medium/welcome.jpg?1421243779","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/244/thumb/welcome.jpg?1421243779"},{"active":true,"id":33236,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/236/xlarge/cover.jpg?1421230137","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/236/medium/cover.jpg?1421230137","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/236/thumb/cover.jpg?1421230137"},{"active":true,"id":33242,"xlarge":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/242/xlarge/events.jpg?1421243736","medium":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/242/medium/events.jpg?1421243736","thumb":"http://dbgcbnch6yz43.cloudfront.net/images/pictures/files/000/033/242/thumb/events.jpg?1421243736"}],"images":[],"collaborations":{"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/collaborations.json"},"orders":{"resource_url":"http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/orders.json"}}}
    When I fetch restaurant details                      # features/step_definitions/restaurant_steps.rb:34
    Then I should have restaurant details                # features/step_definitions/restaurant_steps.rb:44

  @vcr
  Scenario: Publish restaurant                         # features/restaurant.feature:43
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/publish.json
 ***** Zuppler Request: {:body=>{}, :headers=>{}}
 ***** Zuppler Response: {"success":true}
    When I publish restaurant "demorestaurant"         # features/step_definitions/restaurant_steps.rb:22
    Then I should get success response                 # features/step_definitions/base_steps.rb:1

  @vcr
  Scenario: Pause restaurant                           # features/restaurant.feature:49
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/pause.json
 ***** Zuppler Request: {:body=>{}, :headers=>{}}
 ***** Zuppler Response: {"success":true}
    When I pause restaurant "demorestaurant"           # features/step_definitions/restaurant_steps.rb:26
    Then I should get success response                 # features/step_definitions/base_steps.rb:1

  @vcr
  Scenario: Resume restaurant                          # features/restaurant.feature:55
    Given Zuppler configured with "zuppler" and "abcd" # features/step_definitions/initialization_steps.rb:18

 ***** Zuppler Url: http://api.biznettechnologies.com/v3/channels/zuppler/restaurants/demorestaurant/pause.json
 ***** Zuppler Request: {:body=>{}, :headers=>{}}
 ***** Zuppler Response: {"success":true}
    When I resume restaurant "demorestaurant"          # features/step_definitions/restaurant_steps.rb:30
    Then I should get success response                 # features/step_definitions/base_steps.rb:1

Feature: User
  Working with test user:
  id: 14802
  name: Test Zuppler
  email test@zuppler.com
  token: see initilization_steps.rb
  application token: see initilization_steps.rb

  TODO: update token after each restore DB on staging

  Background:                                            # features/user.feature:11
    Given Zuppler configured with "zuppler" and "qwe123" # features/step_definitions/initialization_steps.rb:18
    And Zuppler user token                               # features/step_definitions/initialization_steps.rb:32

  @vcr
  Scenario: Show user        # features/user.feature:16
    Given I initialize user  # features/step_definitions/user_steps.rb:17

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current.json
 ***** Zuppler Request: {:body=>{}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"user":{"id":14802,"uuid":"589e9ac9-a8c1-47ed-bf4b-aa9b19431249","name":"Test Zuppler","email":"test@zuppler.com","phone":"610-844-2971","locales":[],"created_at":"2012-01-25T18:27:22Z","roles":["restaurant","dispatcher"],"acls":{"channel":[9],"restaurant":[242],"delivery_service":[1,10],"market":[1]},"zuppler_bucks":"-1430.0","zuppler_points":73969,"zupp_bucks":{"242":550.0,"1":-1980.0},"zupp_points":{"total":73969,"total_in_dollars":73.97},"gravatar_id":"b120236ab9362cc0ee826a1145e1fdff","links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249"},{"name":"vaults","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/vaults"},{"name":"grant","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/grant"},{"name":"revoke","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/revoke"},{"name":"touch","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/touch"},{"name":"providers","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/providers"},{"name":"print_params","methods":["get","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/print_params"}]}}
W, [2018-05-21T14:58:00.091812 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.091854 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.091874 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.091893 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.092028 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.092048 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.092067 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
    Then I have user details # features/step_definitions/user_steps.rb:90

  @vcr
  Scenario: Touch                 # features/user.feature:21
    Given I initialize user       # features/step_definitions/user_steps.rb:17

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current/touch.json
 ***** Zuppler Request: {:body=>{}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"User updated"}}
    And I touch user              # features/step_definitions/user_steps.rb:83
    Then receive success response # features/step_definitions/user_steps.rb:160

  @vcr
  Scenario: User not authorized                  # features/user.feature:27
    Given I initialize user with "notauthorized" # features/step_definitions/user_steps.rb:25

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current.json
 ***** Zuppler Request: {:body=>{}, :headers=>{"Authorization"=>" Bearer notauthorized"}}
 ***** Zuppler Response: {"success":false,"status":{"code":401,"message":"Unauthorized"}}
    Then I am not authorized                     # features/step_definitions/user_steps.rb:96

  # @vcr
  # Scenario: Update user grant without roles
  #   Given I initialize user with "af1813ae5d79a6e16e574a44c8398d6a6508b825fb31c80b8deddec302f83019"
  #   And I update access grant
  #   Then I receive not enough roles
  @vcr
  Scenario: Update user grant with user token # features/user.feature:38
    Given I initialize user                   # features/step_definitions/user_steps.rb:17

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/14802/grant.json
 ***** Zuppler Request: {:body=>{:acls=>{:market=>[1]}}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":false,"status":{"code":401,"message":"Unauthorized to update access"}}
    And I update access grant                 # features/step_definitions/user_steps.rb:33
    Then I receive failure grant              # features/step_definitions/user_steps.rb:110

  @vcr
  Scenario: Update user grant with application token # features/user.feature:44
    When Zuppler application token                   # features/step_definitions/initialization_steps.rb:28
    Given I initialize user                          # features/step_definitions/user_steps.rb:17

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/14802/grant.json
 ***** Zuppler Request: {:body=>{:acls=>{:market=>[1]}}, :headers=>{"Authorization"=>" Bearer ea82ba7cbd993a72bbfbcc80e8d35ea71b659e8c41e5eacf137c42e4f7263d76"}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"user":{"links":[{"name":"self","methods":["get"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249"},{"name":"vaults","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/vaults"},{"name":"grant","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/grant"},{"name":"revoke","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/revoke"}]}}
    When I update access grant                       # features/step_definitions/user_steps.rb:33
    Then I receive success grant                     # features/step_definitions/user_steps.rb:106

  @vcr
  Scenario: Get print params  # features/user.feature:51
    Given I initialize user   # features/step_definitions/user_steps.rb:17

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current/print_params.json
 ***** Zuppler Request: {:body=>{}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"print_params":{"token":"t"},"success":true,"status":{"code":200,"message":"OK"}}
    And get print params      # features/step_definitions/user_steps.rb:79
    Then receive print params # features/step_definitions/user_steps.rb:164

  @vcr
  Scenario: Update print params   # features/user.feature:57
    Given I initialize user       # features/step_definitions/user_steps.rb:17

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current/print_params.json
 ***** Zuppler Request: {:body=>{:print_params=>{:token=>"t"}}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"print_params":{"token":"t"},"success":true,"status":{"code":200,"message":"OK"}}
    And update print params       # features/step_definitions/user_steps.rb:75
    Then receive success response # features/step_definitions/user_steps.rb:160

  @vcr
  Scenario: Search users with application token # features/user.feature:63
    When Zuppler application token              # features/step_definitions/initialization_steps.rb:28

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/search.json
 ***** Zuppler Request: {:body=>{:role=>"ambassador"}, :headers=>{"Authorization"=>" Bearer ea82ba7cbd993a72bbfbcc80e8d35ea71b659e8c41e5eacf137c42e4f7263d76"}}
 ***** Zuppler Response: {"success":true,"pagination":{"total":5,"page":1,"per_page":20,"page_count":1,"count":5},"status":{"code":200,"message":"OK"},"users":[{"id":2672,"uuid":"8f29488b-e291-4dd2-b9f7-f3ae48ff8d79","name":"Petrica G3","email":"petrica+k1@gmail.com","phone":null,"channel_id":1,"roles":["ambassador"],"created_at":"2010-12-10T12:20:41.000Z","gravatar_id":"ffb068d3631842cd076635a9e3d473d5","acls":{},"links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/8f29488b-e291-4dd2-b9f7-f3ae48ff8d79"},{"name":"vaults","method":"get","url":"/v1/users/8f29488b-e291-4dd2-b9f7-f3ae48ff8d79/vaults"},{"name":"grant","method":"put","url":"/v1/users/8f29488b-e291-4dd2-b9f7-f3ae48ff8d79/grant"},{"name":"revoke","method":"put","url":"/v1/users/8f29488b-e291-4dd2-b9f7-f3ae48ff8d79/revoke"},{"name":"touch","method":"put","url":"/v1/users/8f29488b-e291-4dd2-b9f7-f3ae48ff8d79/touch"},{"name":"providers","method":"get","url":"/v1/users/8f29488b-e291-4dd2-b9f7-f3ae48ff8d79/providers"}]},{"id":3370,"uuid":"062b1cad-7247-40f1-bc2e-25942ef5075d","name":"Silviu Rosu","email":"silviu.rosu@gmail.com","phone":"+40757220488","channel_id":1,"roles":["admin","config","ambassador","driver","dispatcher"],"created_at":"2011-01-18T08:15:22.000Z","gravatar_id":"d38b3ac02140944a5dc29691dad2a808","acls":{"restaurant":[242]},"links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/062b1cad-7247-40f1-bc2e-25942ef5075d"},{"name":"vaults","method":"get","url":"/v1/users/062b1cad-7247-40f1-bc2e-25942ef5075d/vaults"},{"name":"grant","method":"put","url":"/v1/users/062b1cad-7247-40f1-bc2e-25942ef5075d/grant"},{"name":"revoke","method":"put","url":"/v1/users/062b1cad-7247-40f1-bc2e-25942ef5075d/revoke"},{"name":"touch","method":"put","url":"/v1/users/062b1cad-7247-40f1-bc2e-25942ef5075d/touch"},{"name":"providers","method":"get","url":"/v1/users/062b1cad-7247-40f1-bc2e-25942ef5075d/providers"}]},{"id":4352,"uuid":"35e20f5e-fd1d-424a-aca9-ba4bb3be0e11","name":"Alex Rosen","email":"alex@chitownmenus.com","phone":"847-207-9829","channel_id":1,"roles":["channel","ambassador","integration"],"created_at":"2011-03-10T12:09:54.000Z","gravatar_id":"c38b99c5536ccb458a431fad70946f86","acls":{"restaurant":[303,399,414,415,416,418,431,432,435,445,502,506,508,509,516,518,520,527,528,537,540,551,552,553,554,556,558,561,563,567,572,592,598,599,603,607,608,611,613,616,617,618,619,621,622,633,635,644,646,655,666,668],"channel":[8,12,14,16,17,18,19,21,24,25,26,29,39,45,47,61,983]},"links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/35e20f5e-fd1d-424a-aca9-ba4bb3be0e11"},{"name":"vaults","method":"get","url":"/v1/users/35e20f5e-fd1d-424a-aca9-ba4bb3be0e11/vaults"},{"name":"grant","method":"put","url":"/v1/users/35e20f5e-fd1d-424a-aca9-ba4bb3be0e11/grant"},{"name":"revoke","method":"put","url":"/v1/users/35e20f5e-fd1d-424a-aca9-ba4bb3be0e11/revoke"},{"name":"touch","method":"put","url":"/v1/users/35e20f5e-fd1d-424a-aca9-ba4bb3be0e11/touch"},{"name":"providers","method":"get","url":"/v1/users/35e20f5e-fd1d-424a-aca9-ba4bb3be0e11/providers"}]},{"id":5622,"uuid":"fea90a85-4675-4ce7-a122-32a0d608e46d","name":"AJ","email":"support@brandonlewismedia.com","phone":"217-552-8238","channel_id":1,"roles":["ambassador","channel","integration"],"created_at":"2011-05-09T01:29:32.000Z","gravatar_id":"1f3f21139dce4ca5ba996251453d8151","acls":{"restaurant":[637,640,641,642,643,645,648,649,651,652,654,657,658,663,678,679,680,684,690,694,728,742,743,746,750,753,754,755,773,774,778,824,884,911,912,1586,1933],"channel":[94]},"links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/fea90a85-4675-4ce7-a122-32a0d608e46d"},{"name":"vaults","method":"get","url":"/v1/users/fea90a85-4675-4ce7-a122-32a0d608e46d/vaults"},{"name":"grant","method":"put","url":"/v1/users/fea90a85-4675-4ce7-a122-32a0d608e46d/grant"},{"name":"revoke","method":"put","url":"/v1/users/fea90a85-4675-4ce7-a122-32a0d608e46d/revoke"},{"name":"touch","method":"put","url":"/v1/users/fea90a85-4675-4ce7-a122-32a0d608e46d/touch"},{"name":"providers","method":"get","url":"/v1/users/fea90a85-4675-4ce7-a122-32a0d608e46d/providers"}]},{"id":6,"uuid":"f15cedd7-1db4-452a-afc9-fedd55b1bc35","name":"Iulian Costan","email":"iulian.costan@zuppler.com","phone":"6109095204","channel_id":1,"roles":["admin","config","dispatcher","channel","restaurant","ambassador"],"created_at":"2009-06-18T13:52:00.000Z","gravatar_id":"d91103fc35162730d228767e64126911","acls":{"restaurant":[1076,1137,1182,1550,1587,4548],"channel":[517,521,1040]},"links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/f15cedd7-1db4-452a-afc9-fedd55b1bc35"},{"name":"vaults","method":"get","url":"/v1/users/f15cedd7-1db4-452a-afc9-fedd55b1bc35/vaults"},{"name":"grant","method":"put","url":"/v1/users/f15cedd7-1db4-452a-afc9-fedd55b1bc35/grant"},{"name":"revoke","method":"put","url":"/v1/users/f15cedd7-1db4-452a-afc9-fedd55b1bc35/revoke"},{"name":"touch","method":"put","url":"/v1/users/f15cedd7-1db4-452a-afc9-fedd55b1bc35/touch"},{"name":"providers","method":"get","url":"/v1/users/f15cedd7-1db4-452a-afc9-fedd55b1bc35/providers"}]}]}
W, [2018-05-21T14:58:00.146596 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#count defined in Enumerable. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.146694 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.146718 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.146737 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.146754 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.146771 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.146787 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.146841 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.146858 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.146874 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.146919 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.146939 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.146955 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147062 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147082 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147099 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147114 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147130 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147145 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147212 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147228 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147244 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147259 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147274 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147289 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147368 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147391 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147408 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147424 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147440 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.147456 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
    When I search users by role "ambassador"    # features/step_definitions/user_steps.rb:29
    Then I receive ambassador users             # features/step_definitions/user_steps.rb:114


 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/search.json
 ***** Zuppler Request: {:body=>{:role=>"ambassador"}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"pagination":{"total":5,"page":1,"per_page":20,"page_count":1,"count":5},"status":{"code":200,"message":"OK"},"users":[{"id":2672,"uuid":"8f29488b-e291-4dd2-b9f7-f3ae48ff8d79","name":"Petrica G3","email":"petrica+k1@gmail.com","phone":null,"channel_id":1,"roles":["ambassador"],"created_at":"2010-12-10T12:20:41.000Z","gravatar_id":"ffb068d3631842cd076635a9e3d473d5","acls":{},"links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/8f29488b-e291-4dd2-b9f7-f3ae48ff8d79"},{"name":"vaults","method":"get","url":"/v1/users/8f29488b-e291-4dd2-b9f7-f3ae48ff8d79/vaults"},{"name":"grant","method":"put","url":"/v1/users/8f29488b-e291-4dd2-b9f7-f3ae48ff8d79/grant"},{"name":"revoke","method":"put","url":"/v1/users/8f29488b-e291-4dd2-b9f7-f3ae48ff8d79/revoke"},{"name":"touch","method":"put","url":"/v1/users/8f29488b-e291-4dd2-b9f7-f3ae48ff8d79/touch"},{"name":"providers","method":"get","url":"/v1/users/8f29488b-e291-4dd2-b9f7-f3ae48ff8d79/providers"}]},{"id":3370,"uuid":"062b1cad-7247-40f1-bc2e-25942ef5075d","name":"Silviu Rosu","email":"silviu.rosu@gmail.com","phone":"+40757220488","channel_id":1,"roles":["admin","config","ambassador","driver","dispatcher"],"created_at":"2011-01-18T08:15:22.000Z","gravatar_id":"d38b3ac02140944a5dc29691dad2a808","acls":{"restaurant":[242]},"links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/062b1cad-7247-40f1-bc2e-25942ef5075d"},{"name":"vaults","method":"get","url":"/v1/users/062b1cad-7247-40f1-bc2e-25942ef5075d/vaults"},{"name":"grant","method":"put","url":"/v1/users/062b1cad-7247-40f1-bc2e-25942ef5075d/grant"},{"name":"revoke","method":"put","url":"/v1/users/062b1cad-7247-40f1-bc2e-25942ef5075d/revoke"},{"name":"touch","method":"put","url":"/v1/users/062b1cad-7247-40f1-bc2e-25942ef5075d/touch"},{"name":"providers","method":"get","url":"/v1/users/062b1cad-7247-40f1-bc2e-25942ef5075d/providers"}]},{"id":4352,"uuid":"35e20f5e-fd1d-424a-aca9-ba4bb3be0e11","name":"Alex Rosen","email":"alex@chitownmenus.com","phone":"847-207-9829","channel_id":1,"roles":["channel","ambassador","integration"],"created_at":"2011-03-10T12:09:54.000Z","gravatar_id":"c38b99c5536ccb458a431fad70946f86","acls":{"restaurant":[303,399,414,415,416,418,431,432,435,445,502,506,508,509,516,518,520,527,528,537,540,551,552,553,554,556,558,561,563,567,572,592,598,599,603,607,608,611,613,616,617,618,619,621,622,633,635,644,646,655,666,668],"channel":[8,12,14,16,17,18,19,21,24,25,26,29,39,45,47,61,983]},"links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/35e20f5e-fd1d-424a-aca9-ba4bb3be0e11"},{"name":"vaults","method":"get","url":"/v1/users/35e20f5e-fd1d-424a-aca9-ba4bb3be0e11/vaults"},{"name":"grant","method":"put","url":"/v1/users/35e20f5e-fd1d-424a-aca9-ba4bb3be0e11/grant"},{"name":"revoke","method":"put","url":"/v1/users/35e20f5e-fd1d-424a-aca9-ba4bb3be0e11/revoke"},{"name":"touch","method":"put","url":"/v1/users/35e20f5e-fd1d-424a-aca9-ba4bb3be0e11/touch"},{"name":"providers","method":"get","url":"/v1/users/35e20f5e-fd1d-424a-aca9-ba4bb3be0e11/providers"}]},{"id":5622,"uuid":"fea90a85-4675-4ce7-a122-32a0d608e46d","name":"AJ","email":"support@brandonlewismedia.com","phone":"217-552-8238","channel_id":1,"roles":["ambassador","channel","integration"],"created_at":"2011-05-09T01:29:32.000Z","gravatar_id":"1f3f21139dce4ca5ba996251453d8151","acls":{"restaurant":[637,640,641,642,643,645,648,649,651,652,654,657,658,663,678,679,680,684,690,694,728,742,743,746,750,753,754,755,773,774,778,824,884,911,912,1586,1933],"channel":[94]},"links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/fea90a85-4675-4ce7-a122-32a0d608e46d"},{"name":"vaults","method":"get","url":"/v1/users/fea90a85-4675-4ce7-a122-32a0d608e46d/vaults"},{"name":"grant","method":"put","url":"/v1/users/fea90a85-4675-4ce7-a122-32a0d608e46d/grant"},{"name":"revoke","method":"put","url":"/v1/users/fea90a85-4675-4ce7-a122-32a0d608e46d/revoke"},{"name":"touch","method":"put","url":"/v1/users/fea90a85-4675-4ce7-a122-32a0d608e46d/touch"},{"name":"providers","method":"get","url":"/v1/users/fea90a85-4675-4ce7-a122-32a0d608e46d/providers"}]},{"id":6,"uuid":"f15cedd7-1db4-452a-afc9-fedd55b1bc35","name":"Iulian Costan","email":"iulian.costan@zuppler.com","phone":"6109095204","channel_id":1,"roles":["admin","config","dispatcher","channel","restaurant","ambassador"],"created_at":"2009-06-18T13:52:00.000Z","gravatar_id":"d91103fc35162730d228767e64126911","acls":{"restaurant":[1076,1137,1182,1550,1587,4548],"channel":[517,521,1040]},"links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/f15cedd7-1db4-452a-afc9-fedd55b1bc35"},{"name":"vaults","method":"get","url":"/v1/users/f15cedd7-1db4-452a-afc9-fedd55b1bc35/vaults"},{"name":"grant","method":"put","url":"/v1/users/f15cedd7-1db4-452a-afc9-fedd55b1bc35/grant"},{"name":"revoke","method":"put","url":"/v1/users/f15cedd7-1db4-452a-afc9-fedd55b1bc35/revoke"},{"name":"touch","method":"put","url":"/v1/users/f15cedd7-1db4-452a-afc9-fedd55b1bc35/touch"},{"name":"providers","method":"get","url":"/v1/users/f15cedd7-1db4-452a-afc9-fedd55b1bc35/providers"}]}]}
W, [2018-05-21T14:58:00.151223 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#count defined in Enumerable. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151295 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151316 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151333 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151349 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151365 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151381 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151431 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151448 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151463 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151479 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151519 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151573 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151655 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151672 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151688 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151704 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151720 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151736 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151803 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151820 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151836 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151852 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151868 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151884 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151938 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.151986 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.152006 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.152022 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.152036 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.152052 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
  # FIXME: huge security hole, any user can get all users in Zuppler :(
  @vcr
  Scenario: Search users with user token     # features/user.feature:70
    When I search users by role "ambassador" # features/step_definitions/user_steps.rb:29
    Then I receive ambassador users          # features/step_definitions/user_steps.rb:114

  @vcr
  Scenario: Get providers         # features/user.feature:75
    Given I initialize user       # features/step_definitions/user_steps.rb:17

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current/providers.json
 ***** Zuppler Request: {:body=>{}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"pagination":{"total":3,"page":0,"count":3},"status":{"code":200,"message":"OK"},"providers":[{"id":274181,"provider":"facebook","created_at":"2015-09-15T07:31:04Z","links":[{"name":"self","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/providers/facebook"}]},{"id":510218,"provider":"punchh","created_at":"2017-05-19T12:27:02Z","links":[{"name":"self","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/providers/punchh"}]},{"id":16106,"provider":"zuppler","created_at":"2012-01-25T18:27:22Z","links":[{"name":"self","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/providers/zuppler"}]}]}
W, [2018-05-21T14:58:00.157980 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.158024 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.158053 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
    When I get user providers     # features/step_definitions/user_steps.rb:37
    Then I receive user providers # features/step_definitions/user_steps.rb:122

  @vcr
  Scenario: Get provider          # features/user.feature:81
    Given I initialize user       # features/step_definitions/user_steps.rb:17

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current/providers/zuppler.json
 ***** Zuppler Request: {:body=>{}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"provider":{"id":16106,"provider":"zuppler","token":"3e2ce98c19066ed70e083765df8819c19a6ab13a5844e6527e645f20ad637ffe","created_at":"2012-01-25T18:27:22Z"}}
    When I get "zuppler" provider # features/step_definitions/user_steps.rb:71
    Then I receive user provider  # features/step_definitions/user_steps.rb:155

  @vcr
  Scenario: Get vaults         # features/user.feature:87
    Given I initialize user    # features/step_definitions/user_steps.rb:17

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current/vaults.json
 ***** Zuppler Request: {:body=>{}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"pagination":{"total":4,"page":0,"count":4},"status":{"code":200,"message":"OK"},"vaults":[{"id":195581,"expiration_date":"11/2016","created_at":"2018-02-28T10:07:43Z","gateway_id":"braintree","merchant_id":null,"uid":"abcd","brand":"visa","name":"test","number":"1234","title":"test - visa - ****-1234","links":[{"name":"self","methods":["get","delete"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/vaults/195581"}]},{"id":195580,"expiration_date":"11/2016","created_at":"2018-02-28T10:03:42Z","gateway_id":"braintree","merchant_id":null,"uid":"abcd","brand":"visa","name":"test","number":"1234","title":"test - visa - ****-1234","links":[{"name":"self","methods":["get","delete"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/vaults/195580"}]},{"id":195579,"expiration_date":"11/2016","created_at":"2018-02-28T09:45:54Z","gateway_id":"braintree","merchant_id":null,"uid":"abcd","brand":"visa","name":"test","number":"1234","title":"test - visa - ****-1234","links":[{"name":"self","methods":["get","delete"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/vaults/195579"}]},{"id":122103,"expiration_date":"XX/2018","created_at":"2017-01-30T18:23:17Z","gateway_id":"braintree","merchant_id":null,"uid":"dcpbkb","brand":"master","name":"Test Zuppler","number":"4444","title":"Test Zuppler - master - ****-4444","links":[{"name":"self","methods":["get","delete"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/vaults/122103"}]}]}
W, [2018-05-21T14:58:00.168279 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.168398 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.168443 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.168484 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
    When I get user vaults     # features/step_definitions/user_steps.rb:41
    Then I receive user vaults # features/step_definitions/user_steps.rb:127

  @vcr
  Scenario: Create vault    # features/user.feature:93
    Given I initialize user # features/step_definitions/user_steps.rb:17

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current/vaults.json
 ***** Zuppler Request: {:body=>{:vault=>{:name=>"test", :brand=>"visa", :number=>"1234", :expiration_date=>"11/2016", :uid=>"abcd", :gateway_id=>"braintree"}}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"vault":{"id":195707,"expiration_date":"11/2016","created_at":"2018-03-27T10:55:24Z","gateway_id":"braintree","merchant_id":null,"uid":"abcd","brand":"visa","name":"test","number":"1234","links":[{"name":"self","methods":["get","delete"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/vaults/195707"}]}}
    When I create vaults    # features/step_definitions/user_steps.rb:45
    Then vault is created   # features/step_definitions/user_steps.rb:131

  @vcr
  Scenario: Reward points                # features/user.feature:99
    Given I initialize user              # features/step_definitions/user_steps.rb:17
    And a current user                   # features/step_definitions/user_steps.rb:8

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current.json
 ***** Zuppler Request: {:body=>{}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"user":{"id":14802,"uuid":"589e9ac9-a8c1-47ed-bf4b-aa9b19431249","name":"Test Zuppler","email":"test@zuppler.com","phone":"610-844-2971","locales":[],"created_at":"2012-01-25T18:27:22Z","roles":["restaurant","dispatcher"],"acls":{"channel":[9],"restaurant":[242],"delivery_service":[1,10],"market":[1]},"zuppler_bucks":"-1430.0","zuppler_points":73969,"zupp_bucks":{"242":550.0,"1":-1980.0},"zupp_points":{"total":73969,"total_in_dollars":73.97},"gravatar_id":"b120236ab9362cc0ee826a1145e1fdff","links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249"},{"name":"vaults","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/vaults"},{"name":"grant","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/grant"},{"name":"revoke","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/revoke"},{"name":"touch","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/touch"},{"name":"providers","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/providers"},{"name":"print_params","methods":["get","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/print_params"}]}}
W, [2018-05-21T14:58:00.179153 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.179191 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.179210 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.179227 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.179243 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.179259 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.179276 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
    And user has points and bucks        # features/step_definitions/user_steps.rb:12

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current/zupps_reward.json
 ***** Zuppler Request: {:body=>{:points=>{:amount=>"1000"}}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"Zupps rewarded"}}
    When reward "1000" points            # features/step_definitions/user_steps.rb:51

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current.json
 ***** Zuppler Request: {:body=>{}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"user":{"id":14802,"uuid":"589e9ac9-a8c1-47ed-bf4b-aa9b19431249","name":"Test Zuppler","email":"test@zuppler.com","phone":"610-844-2971","locales":[],"created_at":"2012-01-25T18:27:22Z","roles":["restaurant","dispatcher"],"acls":{"channel":[9],"restaurant":[242],"delivery_service":[1,10],"market":[1]},"zuppler_bucks":"-1430.0","zuppler_points":74969,"zupp_bucks":{"242":550.0,"1":-1980.0},"zupp_points":{"total":74969,"total_in_dollars":74.97},"gravatar_id":"b120236ab9362cc0ee826a1145e1fdff","links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249"},{"name":"vaults","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/vaults"},{"name":"grant","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/grant"},{"name":"revoke","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/revoke"},{"name":"touch","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/touch"},{"name":"providers","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/providers"},{"name":"print_params","methods":["get","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/print_params"}]}}
W, [2018-05-21T14:58:00.183963 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.183995 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.184013 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.184030 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.184046 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.184062 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.184079 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
    Then user was rewarded "1000" points # features/step_definitions/user_steps.rb:135

  @vcr
  Scenario: Revoke points               # features/user.feature:107
    Given I initialize user             # features/step_definitions/user_steps.rb:17
    And a current user                  # features/step_definitions/user_steps.rb:8

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current.json
 ***** Zuppler Request: {:body=>{}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"user":{"id":14802,"uuid":"589e9ac9-a8c1-47ed-bf4b-aa9b19431249","name":"Test Zuppler","email":"test@zuppler.com","phone":"610-844-2971","locales":[],"created_at":"2012-01-25T18:27:22Z","roles":["restaurant","dispatcher"],"acls":{"channel":[9],"restaurant":[242],"delivery_service":[1,10],"market":[1]},"zuppler_bucks":"-1430.0","zuppler_points":74969,"zupp_bucks":{"242":550.0,"1":-1980.0},"zupp_points":{"total":74969,"total_in_dollars":74.97},"gravatar_id":"b120236ab9362cc0ee826a1145e1fdff","links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249"},{"name":"vaults","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/vaults"},{"name":"grant","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/grant"},{"name":"revoke","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/revoke"},{"name":"touch","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/touch"},{"name":"providers","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/providers"},{"name":"print_params","methods":["get","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/print_params"}]}}
W, [2018-05-21T14:58:00.190067 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.190164 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.190193 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.190214 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.190234 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.190252 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.190272 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
    And user has points and bucks       # features/step_definitions/user_steps.rb:12

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current/zupps_revoke.json
 ***** Zuppler Request: {:body=>{:points=>{:amount=>"1000"}}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"Zupps revoked"}}
    When revoke "1000" points           # features/step_definitions/user_steps.rb:55

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current.json
 ***** Zuppler Request: {:body=>{}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"user":{"id":14802,"uuid":"589e9ac9-a8c1-47ed-bf4b-aa9b19431249","name":"Test Zuppler","email":"test@zuppler.com","phone":"610-844-2971","locales":[],"created_at":"2012-01-25T18:27:22Z","roles":["restaurant","dispatcher"],"acls":{"channel":[9],"restaurant":[242],"delivery_service":[1,10],"market":[1]},"zuppler_bucks":"-1430.0","zuppler_points":73969,"zupp_bucks":{"242":550.0,"1":-1980.0},"zupp_points":{"total":73969,"total_in_dollars":73.97},"gravatar_id":"b120236ab9362cc0ee826a1145e1fdff","links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249"},{"name":"vaults","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/vaults"},{"name":"grant","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/grant"},{"name":"revoke","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/revoke"},{"name":"touch","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/touch"},{"name":"providers","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/providers"},{"name":"print_params","methods":["get","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/print_params"}]}}
W, [2018-05-21T14:58:00.195857 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.195902 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.195921 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.195939 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.195955 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.195971 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.195989 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
    Then user was revoked "1000" points # features/step_definitions/user_steps.rb:140

  @vcr
  Scenario: Reward bucks                                 # features/user.feature:115
    Given I initialize user                              # features/step_definitions/user_steps.rb:17
    And a current user                                   # features/step_definitions/user_steps.rb:8

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current.json
 ***** Zuppler Request: {:body=>{}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"user":{"id":14802,"uuid":"589e9ac9-a8c1-47ed-bf4b-aa9b19431249","name":"Test Zuppler","email":"test@zuppler.com","phone":"610-844-2971","locales":[],"created_at":"2012-01-25T18:27:22Z","roles":["restaurant","dispatcher"],"acls":{"channel":[9],"restaurant":[242],"delivery_service":[1,10],"market":[1]},"zuppler_bucks":"-1430.0","zuppler_points":73969,"zupp_bucks":{"242":550.0,"1":-1980.0},"zupp_points":{"total":73969,"total_in_dollars":73.97},"gravatar_id":"b120236ab9362cc0ee826a1145e1fdff","links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249"},{"name":"vaults","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/vaults"},{"name":"grant","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/grant"},{"name":"revoke","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/revoke"},{"name":"touch","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/touch"},{"name":"providers","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/providers"},{"name":"print_params","methods":["get","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/print_params"}]}}
W, [2018-05-21T14:58:00.201911 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.201967 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.201990 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.202008 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.202024 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.202040 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.202059 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
    And user has points and bucks                        # features/step_definitions/user_steps.rb:12

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current/zupps_reward.json
 ***** Zuppler Request: {:body=>{:bucks=>{:restaurant_id=>"1", :amount=>"10"}}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"Zupps rewarded"}}
    When reward "10" bucks for "1" restaurant            # features/step_definitions/user_steps.rb:59

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current.json
 ***** Zuppler Request: {:body=>{}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"user":{"id":14802,"uuid":"589e9ac9-a8c1-47ed-bf4b-aa9b19431249","name":"Test Zuppler","email":"test@zuppler.com","phone":"610-844-2971","locales":[],"created_at":"2012-01-25T18:27:22Z","roles":["restaurant","dispatcher"],"acls":{"channel":[9],"restaurant":[242],"delivery_service":[1,10],"market":[1]},"zuppler_bucks":"-1420.0","zuppler_points":73969,"zupp_bucks":{"242":550.0,"1":-1970.0},"zupp_points":{"total":73969,"total_in_dollars":73.97},"gravatar_id":"b120236ab9362cc0ee826a1145e1fdff","links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249"},{"name":"vaults","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/vaults"},{"name":"grant","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/grant"},{"name":"revoke","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/revoke"},{"name":"touch","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/touch"},{"name":"providers","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/providers"},{"name":"print_params","methods":["get","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/print_params"}]}}
W, [2018-05-21T14:58:00.205946 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.206004 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.206026 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.206043 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.206060 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.206076 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.206093 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
    Then user was rewarded "10" bucks for "1" restaurant # features/step_definitions/user_steps.rb:145

  @vcr
  Scenario: Revoke bucks                                   # features/user.feature:123
    Given I initialize user                                # features/step_definitions/user_steps.rb:17
    And a current user                                     # features/step_definitions/user_steps.rb:8

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current.json
 ***** Zuppler Request: {:body=>{}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"user":{"id":14802,"uuid":"589e9ac9-a8c1-47ed-bf4b-aa9b19431249","name":"Test Zuppler","email":"test@zuppler.com","phone":"610-844-2971","locales":[],"created_at":"2012-01-25T18:27:22Z","roles":["restaurant","dispatcher"],"acls":{"channel":[9],"restaurant":[242],"delivery_service":[1,10],"market":[1]},"zuppler_bucks":"-1420.0","zuppler_points":73969,"zupp_bucks":{"242":550.0,"1":-1970.0},"zupp_points":{"total":73969,"total_in_dollars":73.97},"gravatar_id":"b120236ab9362cc0ee826a1145e1fdff","links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249"},{"name":"vaults","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/vaults"},{"name":"grant","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/grant"},{"name":"revoke","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/revoke"},{"name":"touch","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/touch"},{"name":"providers","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/providers"},{"name":"print_params","methods":["get","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/print_params"}]}}
W, [2018-05-21T14:58:00.212702 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.212743 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.212762 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.212779 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.212795 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.212810 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.212827 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
    And user has points and bucks                          # features/step_definitions/user_steps.rb:12

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current/zupps_revoke.json
 ***** Zuppler Request: {:body=>{:bucks=>{:restaurant_id=>1, :amount=>"1000"}}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"Zupps revoked"}}
    When revoke "1000" points for "1" restaurant           # features/step_definitions/user_steps.rb:63

 ***** Zuppler Url: http://users-api.biznettechnologies.com/v1/users/current.json
 ***** Zuppler Request: {:body=>{}, :headers=>{"Authorization"=>" Bearer 1f8639b026344721bd0126b039609835ffa931b44446907acc11a07719fce59a"}}
 ***** Zuppler Response: {"success":true,"status":{"code":200,"message":"OK"},"user":{"id":14802,"uuid":"589e9ac9-a8c1-47ed-bf4b-aa9b19431249","name":"Test Zuppler","email":"test@zuppler.com","phone":"610-844-2971","locales":[],"created_at":"2012-01-25T18:27:22Z","roles":["restaurant","dispatcher"],"acls":{"channel":[9],"restaurant":[242],"delivery_service":[1,10],"market":[1]},"zuppler_bucks":"-2420.0","zuppler_points":73969,"zupp_bucks":{"242":550.0,"1":-2970.0},"zupp_points":{"total":73969,"total_in_dollars":73.97},"gravatar_id":"b120236ab9362cc0ee826a1145e1fdff","links":[{"name":"self","methods":["get","patch","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249"},{"name":"vaults","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/vaults"},{"name":"grant","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/grant"},{"name":"revoke","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/revoke"},{"name":"touch","method":"put","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/touch"},{"name":"providers","method":"get","url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/providers"},{"name":"print_params","methods":["get","put"],"url":"/v1/users/589e9ac9-a8c1-47ed-bf4b-aa9b19431249/print_params"}]}}
W, [2018-05-21T14:58:00.216913 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.216942 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.216960 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.216977 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.216993 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.217009 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#method defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
W, [2018-05-21T14:58:00.217025 #66002]  WARN -- : You are setting a key that conflicts with a built-in method Hashie::Mash#methods defined in Kernel. This can cause unexpected behavior when accessing the key as a property. You can still access the key via the #[] method.
    Then user was revoked "1000" points for "1" restaurant # features/step_definitions/user_steps.rb:150

61 scenarios (61 passed)
277 steps (277 passed)
0m5.639s

 *** Test status: SUCCESS

 *** Bumping version... patch

 *** Commit release changes ... 0.9.18
Using rake 12.3.0
Using concurrent-ruby 1.0.5
Using i18n 0.9.5
Using minitest 5.11.3
Using thread_safe 0.3.6
Using tzinfo 1.2.5
Using activesupport 5.1.5
Using activemodel 5.1.5
Using active_attr 0.10.3
Using public_suffix 3.0.2
Using addressable 2.5.2
Using ast 2.4.0
Using builder 3.2.3
Using bundler 1.16.1
Using docile 1.1.5
Using json 2.1.0
Using simplecov-html 0.10.2
Using simplecov 0.12.0
Using codeclimate-test-reporter 1.0.8
Using coderay 1.1.2
Using tins 1.16.3
Using term-ansicolor 1.6.0
Using thor 0.19.4
Using coveralls 0.8.19
Using safe_yaml 1.0.4
Using crack 0.4.3
Using gherkin3 3.1.2
Using cucumber-core 1.3.1
Using diff-lcs 1.3
Using multi_json 1.13.1
Using multi_test 0.1.2
Using cucumber 2.1.0
Using ffi 1.9.23
Using ethon 0.11.0
Using faker 1.8.7
Using multipart-post 2.0.0
Using faraday 0.12.2
Using formatador 0.2.5
Using typhoeus 0.8.0
Using furious 0.1.0
Using rb-fsevent 0.10.2
Using rb-inotify 0.9.10
Using ruby_dep 1.5.0
Using listen 3.1.5
Using lumberjack 1.0.12
Using nenv 0.3.0
Using shellany 0.0.1
Using notiffany 0.1.1
Using method_source 0.9.0
Using pry 0.11.3
Using guard 2.14.2
Using guard-compat 1.2.1
Using guard-cucumber 2.1.2
Using rspec-support 3.7.1
Using rspec-core 3.7.1
Using rspec-expectations 3.7.0
Using rspec-mocks 3.7.0
Using rspec 3.7.0
Using guard-rspec 4.7.3
Using hashdiff 0.3.7
Using hashie 3.5.7
Using multi_xml 0.6.0
Using httparty 0.16.2
Using jwt 1.5.6
Using rack 2.0.5
Using oauth2 1.4.0
Using omniauth 1.8.1
Using omniauth-oauth2 1.5.0
Using parallel 1.12.1
Using parser 2.5.0.2
Using powerpack 0.1.1
Using rainbow 3.0.0
Using retriable 3.1.1
Using ruby-progressbar 1.9.0
Using unicode-display_width 1.3.0
Using rubocop 0.52.1
Using shoulda-matchers 3.1.2
Using vcr 4.0.0
Using webmock 3.3.0
Using zuppler 0.9.18 from source at `.`
Bundle complete! 16 Gemfile dependencies, 80 gems now installed.
Use `bundle info [gemname]` to see where a bundled gem is installed.
